# Working in Teams {#teams}

```{r teams-setup, include=FALSE}
source(here::here("_common.R"))
```

A project can survive badly-organized code;
none will survive for long if people are confused,
pulling in different directions,
or hostile.

Our Zipf's Law project represents a level of complexity that requires
additional context for other people to understand project motivation and direction.
The project directory should now include:

```text
├── Makefile
├── README.md
├── bin
│   ├── book_summary.sh
│   ├── collate.py
│   ├── countwords.py
│   ├── mymodule.py
│   ├── plotcounts.py
│   └── rcparams.yml
├── data
│   ├── README.md
│   ├── dracula.txt
│   └── ...
└── results
    ├── dracula.csv
    ├── dracula.png
    └── ...
```

In this chapter, we'll help you create a culture of collaboration to help people
feel comfortable contributing to your project,
as well as develop approaches to manage the progress of the
Zipf's Law project and team as it develops.

These ideas draw on @Foge2005,
which describes how good open source software projects are run,
and on @Boll2014,
which explains what a [commons][commons] is and when it's the right model to use.
We'll cover both general concepts in managing people and tasks,
as well as specific tools that will help you get started;
our recommendations refer to the organization methods
covered in Chapter \@ref(project) as well as tools from GitHub
as described in Chapter \@ref(git-advanced).

## Why is it important to ensure everyone feels welcome to contribute? {#teams-inclusive}

Projects require teams of individuals contributing to the code for sustainable maintenance and growth.
Working with a team also increases the functionality and robustness of your code,
since more people can offer input into the design and implementation of the project.
In order to leverage the power of a group's expertise and opinions, though,
we need to have a mechanism through which people can contribute.
Moreover, we need to effectively communicate that project participants enthusiastically desire contributions,
and that newcomers to the project are valued regardless of their background or identity.
In other words, a supportive environment for contribution depends on recognizing
the privilege and consequent oppression that exist in many software development communities,
and actively taking steps to ensure everyone feels welcome to contribute.

[Privilege][privilege] is an unearned advantage given to some people but not all,
while [oppression][oppression] is systemic, pervasive inequality that benefits the privileged
and harms those without privilege.
A straight, white, physically able, economically secure male
is less likely to be interrupted when speaking,
more likely to be called on in class,
and more likely to get a job interview based on an identical CV
than someone who is perceived as being outside these categories.
People who are privileged are often not aware of it,
as they've lived in a system that provides unearned advantages their entire lives.
A [target][target] is someone who suffers from oppression.
Targets are often called "members of a marginalized group",
but that phrasing is deliberately passive.
Targets don't choose to be marginalized:
those with privilege marginalize them.
An [ally][ally] is a member of a privileged group
who is working to understand their own privilege and end oppression.

Encouraging inclusivity is a shared responsibility.
As project participants, we should educate ourselves (with lessons like this one), and
call out peers who are engaging in marginalizing or oppressive behavior.
As project leaders, we should teach participants to be allies and enforcing expectations
to encourage an inclusive culture.
If we have power, especially the power derived from membership in a majority group,
we have the responsibility to be a good allies for members of marginalized groups @Auro2019.
It's possible for a project to be *open* to contributors,
without actually being *welcoming* to newcomers.
The following sections outline the mindsets and techniques we can use
to encourage participation from a diverse community of users and developers.

## How do we establish a code of conduct for a project? {#teams-coc}

A Code of Conduct is implemented to promote equity and fairness among a group of participants.
These guidelines are particularly important for people from marginalized or under-represented groups,
who have probably experienced harassment or unwelcoming behavior before.
A Code of Conduct is also important when people from very different cultural backgrounds are trying to collaborate,
and for newcomers who aren't familiar with the project rules or workflow.

As a whole, a Code of Conduct makes it easier for people to contribute
by reducing uncertainty about what behaviors are acceptable.
Some people may push back claiming that it's unnecessary,
or that it infringes freedom of speech,
but what they really mean is that thinking about how they might have benefited from past inequity makes them feel uncomfortable,
or that they like to argue for the sake of arguing.
If having a Code of Conduct leads to them going elsewhere,
that will probably make our project run more smoothly.

Each of us would probably find it very challenging to write a Code of Conduct by ourselves,
since we probably can't anticipate all of the needs of a diverse community of participants.
We recommend starting with something that other groups have drafted, refined, and tested in their own communities.
The [Contributor Covenant][covenant] is relevant for projects being developed online,
such as those based on GitHub.
An effective Code of Conduct should include both expectations for behavior as well as consequences for a failure to comply,
since rules are meaningless without a method to enforce them.
If we adopt a Code of Conduct,
we must be clear about how to report issues, who will receive reports, and how concerns will be addressed.
@Auro2018 is a short, practical guide to handling incidents.

Create a new file called `CONDUCT.md` in the root directory of `zipf`.
In this file, outline a few essential elements for
the Code of Conduct and its enforcement for your Zipf's Law project.

By convention, this file is where potential contributors will look to
find out more information about your project.

> **Conduct at in-person events**
>
> The Contributor Covenant works well for interactions that are largely online.
> If you're interested in guiding interactions for in-person events,
> the [model code of conduct][model-coc] from the [Geek Feminism Wiki][geek-feminism] is a good place to start.

## Why should we include a license? {#teams-license}

Codes of Conduct and licenses both play a role in how people interact with our project.
While the former describes how contributors interact with each other,
the latter dictates how the project can be used and redistributed.
Moreover, if the law or a publication agreement prevents people from reading our work or using our software,
they can't contribute, so license selection plays a role in the culture of your project.
We may occasionally need to keep things closed in order to respect personally identifiable data or commercial confidentiality,
but we default to open to encourage participation within open source projects and to match the values of the project participants.  Teams using GitHub and other similar tools should seriously consider what their default should be.  Those working strictly in software may not have any problem having everything open.  However, teams working with sensitive data, particularly teams with members new to git systems, may wish to keep projects closed during active development.  This allows the team to perform checks and make informed selections for what should be released publicly.

Supporting open software development is sometimes easier said than done, however,
not least because the law hasn't kept up with everyday practice.
@Mori2012 and [this blog post][vanderplas-licensing] are good starting points
to understand licensing and intellectual property from a researcher's point of view,
while @Lind2008 is a deeper dive for those who want details.
While it can depend on your country, institution, and job role, generally
creative works are automatically eligible for intellectual property (and thus copyright) protection. Be aware that members of the same team may have different levels of copyright protection. For example, students and faculty may have a copyright on the research work they produce, but staff members may not. Certain employment categories hold that the copyright of the items created during their employment belongs to their employer.  
This means that every creative work has some sort of license;
the only question is whether authors and users know what it is and choose to enforce it.

Every project should therefore include an explicit license.
This license should be chosen early:
changing a license on data, reports, or software can be complicated with unintended consequences. For example, each collaborator may hold copyright on their work
and will need to be asked for approval when a license *is* chosen.
Similarly problematic is that changing a license does not change it retroactively,
so you may end up with multiple users operating under different licensing structures.

> **Leave It To The Professionals**
>
> Don't write your own license.
> Legalese is a highly technical language,
> and words don't mean what you think they do.

To make license selection for code as easy as possible,
GitHub allows us to select one of the most common software licenses when creating a repository. Note that this does not include common licenses for data or written works, but those can be added in manually.
The Open Source Initiative maintains [a list of licenses][osi-license-list],
and [choosealicense.com][choose-license] will help us find a license that suits our needs.
Some of the things we need to think about are:

1.  Do we want to license the work at all?
2.  Is the content we are licensing source code?
3.  Do we require people distributing derivative works to also distribute their code?
4.  Do we want to address patent rights?
5.  Is our license compatible with the licenses of the software we depend on?
6.  Do our institutions have any policies that may overrule our choices?
7.  Are there any copyright experts within our institution who can assist us?

If you're thinking this process seems very complicated for projects involving multiple types of information,
you're on the right track.
Multiple licenses may apply to a single project,
because code, data, and text may be covered by different licenses.

### How should we license our software? {#teams-license-software}

To answer the questions above for software,
we need to understand the difference between two kinds of open software licenses.
The two most popular are
the [MIT License][mit-license] and the [GNU Public License][gpl] (GPL).
The MIT License (and its close sibling the BSD License)
say that people can do whatever they want to with the software as long as they cite the original source,
and that the authors accept no responsibility if things go wrong.
The GPL gives people similar rights,
but requires them to share their own work on the same terms:

> You may copy, distribute and modify the software as long as you track changes/dates in source files.
> Any modifications to or software including (via compiler) GPL-licensed code must also be made available under the GPL
> along with build & install instructions.
>
> — [tl;dr][tldr-gpl]

Similar to `CONDUCT.md` described above,
the license is usually put in a clearly labeled file in the project's root directory.
Create a text file called `LICENSE.md`
and include the language for your selected license.
We recommend the MIT license:
it places the fewest restrictions on future action,
it can be made stricter later on,
and the last thirty years shows that it's good enough to keep work open.

### How should we license our data and reports? {#teams-license-other}

The MIT license and the GPL apply to software.
When it comes to data and reports,
the most widely used family of licenses are those produced by [Creative Commons][creative-commons],
which have been written and checked by lawyers and are well understood by the community.

The most liberal option is referred to as [CC-0][cc-0],
where the "0" stands for "zero restrictions".  This is the public domain declaration, and is not actually a license.
CC-0 puts work in the public domain,
i.e.,
allows anyone who wants to use it to do so however they want with no restrictions.
This is usually the best choice for data,
since it simplifies aggregate analysis.
For example,
if we choose a license for data that requires people to cite their source,
then anyone who uses that data in an analysis must cite us;
so must anyone who cites *their* results,
and so on,
which quickly becomes unwieldy. However, declaring a dataset to be public domain does not negate the scholarly tradition and requirement of citation and reporting of sources, it just does not legally mandate it. This also means that projects working with aggregated or remixed data have more flexibility with their licensing.

The most common license is the Creative Commons—Attribution license,
usually referred to as [CC-BY][cc-by].
This allows people to do whatever they want to with the work
as long as they cite the original source.
This is the best license to use for manuscripts,
since we *want* people to share them widely
but also want to get credit for our work.

Other Creative Commons licenses incorporate various restrictions on specific use cases, using the following abbreviations within their names:

-   ND (no derivative works) prevents people from creating modified versions of our work.
    Unfortunately, this also inhibits translation and reformatting.
-   SA (share-alike) requires people to share work that incorporates ours
    on the same terms that we used.
    Again,
    it is fine in principle but in practice makes aggregation a headache.
-   Finally,
    NC (no commercial use) does *not* mean that people cannot charge money for something that includes our work,
    though some publishers still try to imply that in order to scare people away from open licensing.
    Instead,
    the NC clause means that people cannot charge for something that uses our work without our explicit permission,
    which we can give under whatever terms we want.

To apply these concepts to our Zipf's Law project,
we need to consider both data and results.
For our data,
you can view license information for the novels by looking in `data/README.md`.
For results,
we'll need to think about how the analysis might be used in the future:
you may use your Zipf's Law project to report the results of a text analysis
for one or more books.
CC-BY would be a good choice for a license associated with such a report.

> **Don't Forget to Share**
>
> So far in this chapter,
> we've created two new files in your local project directory
> that are especially important for other people to access if they would like to contribute.
> Don't forget to track these files with version control
> and push to your remote repository,
> as discussed in Chapter \@ref(git-advanced).

## How can we keep track of the work we still have to do? {#teams-planning}

Defining the Code of Conduct and licensing for our project is an important part of preparing ourselves for other people to contribute to or use our project.
Regardless of whether we're working by ourselves or with a group of people,
we'll need an [issue tracking system][issue-tracking-system]:
a to-do list to keep track of tasks to complete or problems to fix in our project.
[Issues][issue] are sometimes called [tickets][ticket],
so issue tracking systems are sometimes called [ticketing systems][ticketing-system].
They are also often called [bug trackers][bug-tracker]
because they were created to keep track of bugs that need fixing.
However,
they can be used to manage any kind of work
and are often a convenient way to manage discussions with project participants as well.

Like other [forges][forge],
GitHub allows participants to create issues for a project,
comment on existing issues,
and search all available issues.
Every issue can hold:

-   A unique ID, such as `#123`, which is also part of its URL.
    This makes issues easy to find and refer to:
    in particular, GitHub automatically turns the expression `#123` in a [commit message][commit-message]
    into a link to that issue.

-   A one-line title to aid browsing and search.

-   The issue's current status.
    In simple systems (like GitHub's) each issue is either open or closed,
    and by default,
    only open issues are displayed. Closed items are generally removed from default interfaces, so issues should only be closed when they can be completely removed from the team's attention.

-   The user ID of the issue's creator, which is written as `@name`.
    The IDs of people who have commented on it or modified it are also embedded in the issue's history,
    which helps when using issues to manage discussions.

-   The user ID of the person assigned to review the issue, if someone is assigned.

-   A full description that may include screenshots,
    error messages,
    and anything else that can be put in a web page.

-   Replies, counter-replies, and so on from people who are interested in the issue.

Many of these items are only valuable if the person filing the issue provides useful content.

Broadly speaking,
people create three kinds of issues:

1.  [Bug reports][bug-report], to describe problems they have encountered.

2.  [Feature requests][feature-request],
    such as "add this function to this package" or "add a menu to the website".
    A feature is what do we want to do next rather than something that needs to be fixed.

3.  *Questions*, to clarify usage or functionality of parts of the project.
    Sometimes these end up turning into bug reports or feature requests,
    but often represent information that isn't yet documented,
    or is otherwise difficult to locate.

> **Helping users find information**
>
> Many projects encourage people to ask questions on a mailing list or in a chat channel,
> but answers given there can be hard to find later,
> which leads to the same questions coming up over and over again.
> If people can be persuaded to ask questions by filing issues,
> and to respond to issues of this kind,
> then the project's old issues become a customized [Stack Overflow][stack-overflow] for the project.
> Some projects may even eventually create a page of links to old questions and answers that are particularly helpful.

In Section \@ref(#teams-coc),
we created a `CONDUCT` file with an outline of expectations.
In your remote GitHub repository, create an issue
(with appropriate title and description)
to track the completion of your Code of Conduct and enforcement guidelines.
GitHub will automatically create a unique ID for the issue,
attribute its creation to you,
and list it as an open (active) issue.

This section describes issues as a mechanism for keeping track of future tasks
associated with a project.
Because issues can be filed by both contributors to a project,
as well as newcomers interested in joining,
using the project,
or learning more,
issues also represent an important communication tool with the broader community.
In the next few sections,
we'll discuss strategies for working with issues to maximize their potential.

## How can I write good bug reports? {#teams-bugs}

The better the bug report,
the faster the response,
and the more likely the response will actually address the issue @Bett2008.
Sometimes the person creating the issue may not know or have the right answer for some of these things,
and will be doing their best with limited information about the error.
Responding with kindness and encouragement is important to maintain a healthy community,
and should be enforced by the project's Code of Conduct (Section \@ref(#teams-coc)).

An informative bug report should include each of the following,
 to the best of your ability.

1.  Make sure the problem actually *is* a bug.
    It's always possible that we have called a function the wrong way
    or done an analysis using the wrong configuration file;
    if we take a minute to double-check,
    we could well fix the problem ourselves.

2.  Try to come up with a [reproducible example][reprex] or "reprex".
    A reprex includes only the steps or lines of code needed to make the problem happen;
    again,
    it's surprising how often we can solve the problem ourselves
    as we trim down the steps to create one.

3.  Write a one-line title for the issue
    and a longer (but still brief) description that includes relevant details).

4.  Attach any screenshots that show the problem, resulting errors, or (slimmed-down) input files needed to re-create it.

5.  Describe the version of the software we were using,
    the operating system we were running on, which version of the programming language you ran it with,
    and anything else you believe that might affect behavior.

6.  Describe each problem separately so that each one can be tackled on its own.
    This parallels the rule about creating a branch in version control for each bug fix or feature
    discussed in Section \@ref(git-advanced).

Here is an example of a well-written bug report with all of the components mentioned above,
as well as the common features of all issues:

```text
ID: #25
Creator: @standage
Owner: @malvika
Title: wordbase.py fails on accented characters
Description:

1.  Create a text file called 'accent.txt' containing the word "Pumpernickel"
    with an umlaut over the 'u'.

2.  Run 'python wordbase.py --all --message accent.txt'

Program should print "Pumpernickel" on a line by itself with the umlaut,
but fails instead with:

    No encoding for [] on line 1 of 'accent.txt'.

(`[]` shows where a solid black box appears in the output instead of a printable character.)

Versions:
-   `python wordbase.py --version` reports 0.13.1
-   Using on Windows 10.
-   Python 3.6.7 installed from anaconda
```

In Chapter \@ref(errors), we discussed adding exceptions to `collate.py`.
In your GitHub repository, file an issue representing a bug report
that includes information to resolve a similar issue in either `countwords.py` or `plotcounts.py`.

It takes time and energy to write a good error report.
If the report is being filed by a member of the development team,
the incentive to document errors well is that resolving the issue later is easier.
You can encourage users from outside the project to write thorough error reports
by including an issue template for your project.
An issue template is a file included in your GitHub repository
that proliferates each new issue with text that describes expectations
for content that should be submitted.
You can't force new issues to be as complete as you might like,
but you can use an issue template to make it easier for contributors to
remember and complete documentation about bug reports.

## How can we use labels to organize work? {#teams-labels}

There is always more work to do than there is time to do it.
Issue trackers let project members add [labels][issue-label] to issue to manage this.
Labels are also often called [tags][tag];
whatever term is used,
they are just a word or two to help users sort and search among tasks.

GitHub allows project owners to create any labels they want
that users can then add to their issues.
A small project should always use some version of these three labels:

-   *Bug*: something should work but doesn't.

-   *Enhancement*: something that someone wants added to the software.

-   *Task*: something needs to be done, but won't show up in code
    (e.g., organizing the next team meeting).

Projects also often use:

-   *Question*: how is something supposed to work?

-   *Discussion* or *Proposal*: something the team needs to make a decision about
    or a concrete proposal to resolve such a discussion.
    All issues can have discussion—this category is for issues that start that way—but
    as we'll discuss in Section \@ref(teams-martha),
    every project should have clear rules for making decisions.

-   *Suitable for Newcomer* or *Beginner-Friendly*:
    to identify an easy starting point for someone who has just joined the project.
    If we help potential new contributors find places to start,
    they are more likely to do so @Stei2014.

The labels listed above described what kind of work an issue describes;
a separate set of labels can be used to indicate how important that work is.
These labels typically have names like *High Priority* or *Low Priority*.

Once you have an idea of the type of issues and their importance,
it's helpful to use six more labels to record how they will be handled:

-   *Urgent*: this needs to be done *now*
    (and is typically reserved for security fixes).
-   *Current*: this issue is included in the current round of work.
-   *Next*: this issue is (probably) going to be included in the next round.
-   *Eventually*: someone has looked at the issue and believes it needs to be tackled,
    but there's no immediate plan to do it.
-   *Won't Fix*: someone has decided that the issue isn't going to be addressed,
    either because it's out of scope or because it's not actually a bug.
    Once an issue is marked this way,
    it is usually then closed. This is a great opportunity to provide a kind note explaining why it won't be addressed and encouragement to continue working with the project.
-   *Duplicate*: this issue is a duplicate of one that's already in the system.
    Again,
    issues marked this way are usually then closed.

Larger projects will replace *Current*, *Next*, and *Eventually*
with labels corresponding to upcoming software releases, journal issues, or conferences.
This approach works well in the short-term,
but can become unwieldy in the long-term if we don't want to delete labels and can't otherwise retire them, either (like on GitHub).
If we're planning a project with any expectation of longevity,
it's worth our time to plan our labeling strategy to track the type of issues being filed,
their relative importance, and how we handle them.

In your GitHub repository,
create the following labels to help organize and prioritize your issues:
*Bug*, *Enhancement*, *Urgent*.
GitHub automatically creates a small collection of labels for each repository;
you may find it useful to delete labels you don't think you'll use,
or to modify the name, color, or description to suit your needs.
Apply at least one label to each of the issues in your repository.

## How do we decide the priority of certain tasks? {#teams-prioritize}

The result of the labeling strategy described above is to help [triage][triage],
which is the process of deciding what is going to be worked on in what order.
Prioritizing tasks is never an easy job,
and is even more challenging for software development projects that are attempting to balance fixing bugs with creating new features.
Luckily,
we can leverage systems for planning and prioritization that can make this process easier.

Agile is a project management style common to software development projects.
This planning style is based on the idea of simultaneous work on different parts of the project to deliver a product over a finite time interval.
The project in agile planning is not a piece of technical work,
but a product that satisfies a need.
A clearly defined project allows us to design a roadmap to project completion,
which outlines all features comprising the final product and the deliverables associated with them.
To implement the roadmap, agile planning requires identification of time intervals of one to three weeks called [sprints][sprint]
that are associated with specific deliverables.
Consecutive iterations of planning sprints apply product usage feedback to update the product and integrate all pieces of the final software.

A benefit of agile project management is that we can adapt to the needs of the project and respond quickly to feedback.
One of the drawbacks is the dependency of different parts of the project to each other,
and how we can maximize our effectiveness as a team.
An impact/effort matrix is a way of prioritizing the tasks in a project based on two measures:
- *Impact*: the contribution of a task to the end product or goal of the project
- *Effort*: the amount of labor (hours of work) it takes to implement the task

For each of these measures, we'll consider three possible levels:
low, medium, and high.
Develop a detailed list of tasks for the project,
and assign a level for both impact and effort to each task.
A common approach is to draw a 3x3 grid (representing levels)
label both axes "impact" and "effort",
and place each task on the grid to match the levels identified.
Visualizing the impact and effort for each task in relation to the others allows more effective prioritization, delegation, or elimination (if applicable!).

FIXME: include figure of 3x3 impact/effort matrix

Think about the two issues you've created so far in this chapter for your Zipf's Law project.
Where do they fall relative to each other on the impact/effort matrix?

Both agile planning and an impact/effort matrix are tools for prioritizing tasks.
The former helps with long-term planning,
while the latter can be used at any point in the process.
What we haven't discussed so far is who actually makes the final decisions in project planning.
In a large project,
triage is the responsibility of a [product manager][product-manager].
In a small one,
the project's lead usually makes triage decisions.
Regardless of who is ultimately responsible for the final decision,
it helps to include project participants in the planning process.
This may be as simple as adding [up-votes][up-vote] and [down-votes][down-vote] to issues
to indicate their opinions on importance.
Both agile planning and an impact/effort matrix assume working on a team.
Performing these activities with the group increases everyone's investment and sense of ownership to the project plan,
which in turn increase their commitment to the plan's implementation.

## How do we standardize a workflow for the project? {#teams-workflow}

Even a clear plan for project priorities
can quickly get lost in the shuffle once work gets underway.
One of the ways to keep track of who is working on something,
or who should be working on something and isn't,
is through implementing a workflow for the project.

If we're working in GitHub,
it's impossible to completely standardize a workflow.
However,
we can create conventions, define expectations,
and use collaborative tools in GitHub to help enforce those conventions.
We can leverage our issue tracking system as described in Section \@ref(teams-labels)
to manage who can move issues among states,
and to which states existing issues can move.
For example,
Figure \@ref(fig:teams-lifecycle) demonstrates how issues can move from state to state in a small project:

```{r teams-lifecycle, echo=FALSE, fig.cap="Issue Lifecycle"}
if (knitr::is_latex_output()) {
  knitr::include_graphics("figures/shared-rse/teams/lifecycle.pdf")
} else {
  knitr::include_graphics("figures/shared-rse/teams/lifecycle.svg")
}
```

-   An Open issue becomes Assigned when someone is made responsible for it.

-   An Assigned issue becomes Active when that person starts to work on it.

-   If they stop work for any length of time, it becomes Suspended.
    (That way, people who are waiting for it know not to hold their breath.)

-   An Active bug can either be Fixed or Cancelled,
    where the latter state means that the person working on it has decided it's not really a bug.

-   Once a bug is Fixed,
    it can either be Closed or, if the fix doesn't work properly,
    moved back into the Open state and go around again.

This part of the workflow involves how individuals manage single issues.
We can also use GitHub features to help coordinate longer-term planning,
especially related to task assignment.
GitHub includes two methods for organizing tasks into categories.
First, Github milestones represent a method
for grouping issues and pull requests from a single repository.
While working on these tasks,
GitHub milestones allow you to view progress towards completion
as well as the due date.
GitHub projects are a more generalized approach to organizing tasks. They can include issues and pull requests from different repositories,
as well as notes and reminders for tasks that don't fit into
a project's issue tracking system.
Both of these features provide flexibility to
prioritize, plan, and track progress in GitHub.

Workflows like this are more complex than small projects need,
but when the team is distributed
it is essential to be able to find out what's going on
without having to wait for someone to respond to email.
Software development projects have lots of moving pieces,
representing both individual activities and code as it changes.

## How can we make decisions as a group? {#teams-martha}

As the number of participants increases,
so does the need for clear direction and transparency
in decision-making.
These processes represent project [governance][governance],
and as we learned in Section \@ref(teams-inclusive),
they determine whether newcomers will feel comfortable contributing.

Every team has a power structure:
the only question is
whether it's formal and accountable or informal and therefore unaccountable @Free1972.
The latter can work for groups of up to half a dozen people
in which everyone knows everyone else.
Beyond that,
groups need to spell out
who has the authority to make which decisions
and how to achieve consensus.

[Martha's Rules][marthas-rules] are a practical lightweight to do this
in groups with up to a hundred or so members @Mina1986.

1.  Before each meeting, anyone who wishes may sponsor a proposal
    by filing an issue in the GitHub repository tagged "proposal".
    Proposals must be filed at least 24 hours before a meeting
    in order to be considered at that meeting, and must include:
    -   a one-line summary (the subject line of the issue)
    -   the full text of the proposal
    -   any required background information
    -   pros and cons
    -   possible alternatives

2.  A quorum is established in a meeting if half or more of voting members are present.

3.  Once a person has sponsored a proposal, they are responsible for it.
    The group may not discuss or vote on the issue unless the sponsor or their delegate is present.
    The sponsor is also responsible for presenting the item to the group.

4.  After the sponsor presents the proposal,
    a [sense vote][sense-vote] is cast for the proposal prior to any discussion:
    -   Who likes the proposal?
    -   Who can live with the proposal?
    -   Who is uncomfortable with the proposal?

5.  If all or most of the group likes or can live with the proposal,
    it is immediately moved to a formal vote with no further discussion.

6.  If most of the group is uncomfortable with the proposal,
    it is postponed for further rework by the sponsor.

7.  If some members are uncomfortable they can briefly state their objections.
    A timer is then set for a brief discussion moderated by the facilitator.
    After 10 minutes or when no one has anything further to add (whichever comes first),
    the facilitator calls for a yes-or-no vote on the question:
    "Should we implement this decision over the stated objections?"
    If a majority votes "yes" the proposal is implemented.
    Otherwise, the proposal is returned to the sponsor for further work.

## How can we run meetings more efficiently? {#teams-meetings}

So far we've discussed mainly online tools we can use
to work collaboratively with a team of people asynchronously.
Circumstances will eventually arise where we feel a need to meet
as a group at the same time.
Knowing how to run a meeting efficiently is a core skill for anyone who wants to get things done.
The rules for running meetings quickly and smoothly are well known but rarely followed:

Decide if there actually needs to be a meeting.
:   If the only purpose is to share information,
    have everyone send a brief email instead.
    Remember, people can read faster than they can speak:
    if someone has facts for the rest of the team to absorb,
    the most polite way to communicate them is to type them in.

Write an agenda.
:   If nobody cares enough about the meeting to prepare a point-form list of what's to be discussed,
    the meeting itself probably doesn't need to happen.
    Note that "the agenda is all the open issues in our GitHub repo" doesn't count.

Include timings in the agenda.
:   Timings help prevent early items stealing time from later ones.
    The first estimates with any new group are inevitably optimistic,
    so we should revise them upward for subsequent meetings.
    However,
    we shouldn't have a second or third meeting just because the first one ran over-time:
    instead, we should try to figure out *why* we're running over and fix the underlying problem.

Prioritize.
:   Tackle issues that will have high impact but take little time first,
    and things that will take more time but have less impact later.
    That way, if the first things run over time,
    the meeting will still have accomplished something.

Make one person responsible for keeping things moving.
:   One person should be made moderator
    and be responsible for keeping items to time,
    chiding people who are having side conversations or checking email,
    and asking people who are talking too much to get to the point.
    The moderator should *not* do all the talking;
    in fact,
    whoever is in charge will talk less in a well-run meeting than most other participants. This should be a rotating duty among members.

Require politeness.
:   No one gets to be rude,
    no one gets to ramble,
    and if someone goes off topic,
    it's the moderator's job to say,
    "Let's discuss that elsewhere."

No interruptions.
:   Participants should raise a finger, hand,
    put up a sticky note,
    or make another well understood gesture to indicate
    when they want to speak.
    The moderator should keep track of who wants to speak and give them time in turn.

No side conversations.
:   This makes meetings more efficient because
    Nobody can actually pay attention to two things at once.
    If distractions are tolerated,
    people will miss things or they'll have to be repeated.
    More importantly,
    not paying attention is insulting:
    chatting with a friend while someone explains what they did last week
    is a really effective way to say,
    "I don't think you or your work is important."

Encourage no technology.
:   Encourage everyone put their phones, tablets, and laptops into silent mode, close them, or put them away.  When devices are important for taking notes, invite people to disconnect from the network while they take notes. However, respect that people may need to have their phones available if they have a dependent in care, are waiting for a call, need it for 2-factor authentication, or for accessibility needs.  So long as the member is full participating, nobody has a right to question why they need their device.

Take minutes.
:   Someone other than the moderator should take point-form notes
    about the most important information that was shared,
    and about every decision that was made or every task that was assigned to someone. This should be a rotating duty among members.

Store your questions in your notes.
:   While other people are talking,
    participants should take notes of questions they want to ask
    or points they want to make.
    (It's surprising how smart it makes us look when it's our turn to speak.)

End early.
:   If the meeting is scheduled for 10:00-11:00,
    aim to end at 10:55 to give people time to get where they need to go next.

As soon as the meeting is over, circulate the minutes
(i.e., emailed them to everyone or post them to a wiki):

People who weren't at the meeting can keep track of what's going on.
:   We all have to juggle tasks from several projects or courses,
    which means that sometimes we can't make it to meetings.
    A wiki page,
    email message,
    or blog entry is a much more efficient way to catch up than asking a team mate,
    "What did I miss?"

Everyone can check what was actually said or promised.
:   More than once,
    one of us has looked over the minutes of a meeting and thought,
    "Did I say that?" or,
    "I didn't promise to have it ready then!"
    Accidentally or not,
    people will often remember things differently;
    writing them down gives everyone a chance to correct mis-recollection,
    mis-interpretation,
    or mis-representation,
    which can save a lot of anguish later on.

People can be held accountable at subsequent meetings.
:   There's no point making lists of questions and action items
    if we don't follow up on them later.
    If we are using a [ticketing system][ticketing-system],
    we should create a ticket for each new question or task right after the meeting
    and update those that are being carried forward.
    This helps a lot when the time comes to draw up the agenda for the next meeting.

## How can we keep people from talking too much or too little? {#teams-fair}

One of the risks of a synchronous meeting-
either in person or online-
is the tendency of some participants to speak far more frequently than is beneficial for the group.
Other meeting members may be so accustomed to these types of interactions that they don't speak up
even when they have valuable points to make
(which is an example of [learned helplessness][learned-helplessness]).

One way to combat this is to give everyone [three sticky notes][three-stickies] at the start of the meeting.
Every time they speak,
they have to give up one sticky note.
When they're out of stickies,
they aren't allowed to speak until everyone has used at least one,
at which point everyone gets all of their sticky notes back.
This ensures that nobody talks more than three times as often as
the quietest person in the meeting.
Balancing the amount of times individuals can speak completely changes group dynamics:
people who have given up trying to be heard
suddenly have space to contribute,
and the overly-frequent speakers realize how unfair they have been.

Another useful technique is called [interruption bingo][interruption-bingo].
Draw a grid and label the rows and columns with the participants' names.
Each time one person interrupts another,
add a tally mark to the appropriate cell;
halfway through the meeting,
take a moment to look at the results.
In most cases it will be clear that
one or two people are doing all of the interrupting.
After that, saying, "All right, I'm adding another tally to the bingo card,"
is often enough to get them to throttle back.

Note that this technique is for managing interruptions,
not speaking time.
It may be completely appropriate for people with more knowledge of a subject
to speak about it more often in a meeting,
but it is never appropriate to repeatedly cut people off.

## How should we run online meetings? {#teams-online}

Online meetings provide special challenges,
both in the context of regulating how often individuals speak,
as well as running meetings in general.
[This discussion][troy-meetings] of why online meetings are often frustrating and unproductive
points out that in most online meetings,
the first person to speak during a pause gets the floor.
As a result,
"If you have something you want to say,
you have to stop listening to the person currently speaking
and instead focus on when they're gonna pause or finish
so you can leap into that nanosecond of silence and be the first to utter something.
The format…encourages participants who want to contribute
to say more and listen less."

The solution is to run a text chat beside the video conference
where people can signal that they want to speak.
The moderator can then select people from the waiting list.
This practice can be reinforced by having everyone mute themselves,
and only allowing the moderator to unmute people.
@Broo2016 has many other useful suggestions for managing meetings.

## How should we handle conflict within the team? {#teams-conflict}

Working with a group of people brings enormous opportunity,
but also ensures the eventual occurrence of conflict.
You just missed an important deadline,
and people are unhappy.
The sick feeling in the pit of your stomach has turned to anger:
you did *your* part,
but Marta didn't finish her stuff until the very last minute,
which meant that no one else had time to spot the two big mistakes she'd made.
As for Cho,
well, he didn't deliver at all—again.
If something doesn't change,
this project is going to pull down your performance review so far
that you might have to start looking for a new job.

Situations like this come up all the time.
Broadly speaking, there are four ways we can deal with them:

1.  Cross our fingers and hope that things will get better on their own,
    even though they didn't the last three times.

2.  Do extra work to make up for others' shortcomings.
    This saves us the mental anguish of confronting others in the short run,
    but the time for that "extra" has to come from somewhere.
    Sooner or alter,
    our personal lives or other parts of the project will suffer.

3.  Lose our temper.
    People often wind up displacing anger into other parts of their life:
    they may yell at someone for taking an extra thirty seconds to make change
    when what they really need to do is tell their boss
    that they won't work through another holiday weekend
    to make up for management's decision to short-staff the project.

4.  Take constructive steps to fix the underlying problem.

Most of us find the first three the easiest to accomplish,
though they also carry the unfortunate side effect of amplifying the conflict.
Most of us also find number four hard because we don't like confrontation.
If we manage it properly,
though,
it is a lot less bruising,
which means that we don't have to be as afraid of initiating it.
Also,
if people believe that we will take steps when they bully, lie, procrastinate, or do a half-assed job,
they will usually avoid making it necessary.

Make sure we are not guilty of the same sin.
:   We won't get very far complaining about someone else interrupting in meetings
    if we do it just as frequently.

Check expectations.
:   Are we sure the offender knows what standards they are supposed to be meeting?
    This is where things like job descriptions
    or up-front discussion of who's responsible for what
    come in handy.

Check the situation.
:   Is someone dealing with an ailing parent or immigration woes?
    Have they been put to work on three other projects that we don't know about?  Use open language when checking in. This gives them the freedom to explain something you may not have expected, and avoids the pressure of being asked directly about something they don't want to explain. Questions like "Can you help me understand this?" are a good starting point.

Document the offense.
:   Write down what the offender has actually done and why it's not good enough.
    Doing this helps us clarify what we're upset about
    and is absolutely necessary if we have to escalate.

Check with other team members.
:   Are we alone in feeling that the offender is letting the team down?
    If so, we aren't necessarily wrong,
    but it'll be a lot easier to fix things if we have the support of the rest of the team.
    Finding out who else on the team is unhappy can be the hardest part of the whole process,
    since we can't even ask the question without letting on that we are upset
    and word will almost certainly get back to whoever we are asking about,
    who might then accuse us of stirring up trouble.

Talk with the offender.
:   This should be a team effort:
    put it on the agenda for a team meeting,
    present the complaint,
    and make sure that the offender understands it.
    This is often enough:
    if someone realizes that they're going to be called on their hitchhiking or bad manners,
    they will usually change their ways.

Escalate as soon as there's a second offense.
:   People who don't have good intentions
    count on us giving them one last chance after another
    until the project is finished and they can go suck the life out of their next victim.
    *Don't fall into this trap.*
    If someone stole a laptop, we would report it right away.
    If someone steals time,
    we are being foolishly generous to give them a chance to do it again and again.

In the context of a research project,
"escalation" often means "taking the issue to our supervisor".
Of course,
our supervisor has probably had dozens of students complain to her over the years
about teammates not doing their share,
and it isn't uncommon to have both halves of a pair tell the supervisor that they're doing all the work.
(This is yet another reason to use version control:
it makes it easy to check who's actually written what.)
In order to get her to take us seriously and help us fix our problem,
we should send her an email signed by several people
that describes the problem and the steps we have already taken to resolve it.
Make sure the offender gets a copy as well,
and ask the supervisor to arrange a meeting to resolve the issue.

This is where documentation is crucial,
both in terms of collaborator guidelines (Section \@ref(teams-coc)),
as well as tracking progress (Section \@ref(teams-workflow)).
[Hitchhikers][hitchhiker] are usually very good at appearing reasonable:
they will nod as we present our case,
then say, "Well, yes, but…" and list a bunch of minor exceptions
or cases where others on the team have also fallen short of expectations.
If we can't back up our complaint,
our supervisor will likely be left with the impression that the whole team is dysfunctional,
and nothing will improve.

## How can we handle conflict to support an inclusive culture? {#teams-conflict-inclusive}

Conflict associated with workflows and meeting deadlines
is challenging and can inhibit the progress on our project.
We're motivated to resolve these conflicts
because it's required to move the project forward.
What can we do about conflict that becomes more personal and heated,
especially if it relates to violations of our Code of Conduct or value of inclusivity?
A few simple guidelines will go a long way:

1.  Be short, simple, and firm.

2.  Don't try to be funny:
    it almost always backfires, or will later be used against us.

3.  Play for the audience:
    we probably won't change the mind of the oppressor we are calling out,
    but we might change the minds or give heart to people who are observing.

4.  Pick our battles.
    We can't challenge everyone, every time,
    without exhausting ourselves and deafening our audience.
    An occasional sharp retort will be much more effective than constant criticism.

5.  Don't shame or insult one group when trying to help another.
    For example,
    don't call someone stupid when what we really mean is that they're racist or homophobic.

6.  Change the terms of the debate.

The last rule is best explained by example.
Suppose someone says,
"Why should we take diversity into account when hiring?
Why don't we just hire the best candidate?"
Our response could be,
"Because taking diversity into account *is* hiring the best candidate.
If you can run a mile in four minutes and someone else can do it in 4:15 with a ball and chain on their leg,
who the better athlete?
Who will perform better *if the impediment is removed*?
If you intend to preserve an exclusionary culture in this lab,
considering how much someone has achieved despite systemic unfairness might not make sense,
but you're not arguing for that,
are you?"
If they then say,
"But it's not fair to take anything other than technical skill into account when hiring for a technical job,"
you can say,
"You're right,
which means that what you're *really* upset about is the thought that
you might be treated the way targets have been treated their whole lives."

[Captain Awkward][captain-awkward] has useful advice for discussions like these,
and [Charles' Rules of Argument][charles-rules] are very useful online:

1.  Don't go looking for an argument.
2.  State your position once, speaking to the audience.
3.  Wait for absurd replies.
4.  Reply once more to correct any misunderstandings of your original statement.
5.  Do not reply again—go do something fun instead.

Finally,
it's important to recognize that good principles sometimes conflict.
For example,
consider this scenario:

> A manager consistently uses male pronouns to refer to software and people of unknown gender.
> When you tell them it makes you uncomfortable to treat maleness as the norm,
> they say that male is the default gender in their first language
> and you should be more considerate of people from other cultures.

On the one hand,
we want to respect other people's cultures;
on the other hand,
we want to be inclusive of women.
In this case,
the manager's discomfort about changing pronouns
matters less than the career harm caused by them being exclusionary,
but many cases are not this clear cut.
Like any written rules,
a Code of Conduct requires constant interpretation,
and like everything else,
discussion about specific cases becomes easier with practice.

## Summary {#teams-summary}

FIXME: summarize teams

## Exercises {#teams-exercises}

### Pandas scavenger hunt {#teams-ex-scavenger-hunt}

Take a look at the GitHub repository for the Python package `pandas`.
Where is the information for licensing and contributing?
https://github.com/pandas-dev/pandas

### Responding to conflict about project priorities {#teams-ex-priority-conflict}

Describe a scenario about conflict arising from a difference of opinion in prioritization,
that requires integrating knowledge from the sections on making decisions, resolving conflict,
and planning ahead.

## Key Points {#teams-keypoints}

```{r, child="keypoints/shared-rse/teams.md"}
```

```{r, child="./links.md"}
```
