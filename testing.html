<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 11 Testing Software | Research Software Engineering with Python</title>
  <meta name="description" content="Chapter 11 Testing Software | Research Software Engineering with Python" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 11 Testing Software | Research Software Engineering with Python" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="tugboats-800x600.jpg" />
  
  <meta name="github-repo" content="merely-useful/py-rse" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 11 Testing Software | Research Software Engineering with Python" />
  
  
  <meta name="twitter:image" content="tugboats-800x600.jpg" />

<meta name="author" content="Damien Irving, Kate Hertweck, Luke Johnston, Joel Ostblom, Charlotte Wickham, and Greg Wilson" />


<meta name="date" content="2021-03-12" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="config.html"/>
<link rel="next" href="errors.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link rel="shortcut icon" href="favicon.ico" />


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; } /* Alert */
code span.an { color: #008000; } /* Annotation */
code span.at { } /* Attribute */
code span.bu { } /* BuiltIn */
code span.cf { color: #0000ff; } /* ControlFlow */
code span.ch { color: #008080; } /* Char */
code span.cn { } /* Constant */
code span.co { color: #008000; } /* Comment */
code span.cv { color: #008000; } /* CommentVar */
code span.do { color: #008000; } /* Documentation */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.im { } /* Import */
code span.in { color: #008000; } /* Information */
code span.kw { color: #0000ff; } /* Keyword */
code span.op { } /* Operator */
code span.ot { color: #ff4000; } /* Other */
code span.pp { color: #ff4000; } /* Preprocessor */
code span.sc { color: #008080; } /* SpecialChar */
code span.ss { color: #008080; } /* SpecialString */
code span.st { color: #008080; } /* String */
code span.va { } /* Variable */
code span.vs { color: #008080; } /* VerbatimString */
code span.wa { color: #008000; font-weight: bold; } /* Warning */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">Merely Useful</a></strong></li>
<li><img src="tugboats-800x600.jpg" width=267 height=200 style="padding-left:20px;"/></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a><ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#intro-big-picture"><i class="fa fa-check"></i><b>0.1</b> The Big Picture</a></li>
<li class="chapter" data-level="0.2" data-path="index.html"><a href="index.html#intro-personas"><i class="fa fa-check"></i><b>0.2</b> Intended Audience</a></li>
<li class="chapter" data-level="0.3" data-path="index.html"><a href="index.html#intro-syllabus"><i class="fa fa-check"></i><b>0.3</b> What You Will Learn</a></li>
<li class="chapter" data-level="0.4" data-path="index.html"><a href="index.html#intro-using"><i class="fa fa-check"></i><b>0.4</b> Using this Book</a></li>
<li class="chapter" data-level="0.5" data-path="index.html"><a href="index.html#contributing-and-re-use"><i class="fa fa-check"></i><b>0.5</b> Contributing and Re-Use</a></li>
<li class="chapter" data-level="0.6" data-path="index.html"><a href="index.html#intro-ack"><i class="fa fa-check"></i><b>0.6</b> Acknowledgments</a></li>
<li class="chapter" data-level="0.7" data-path="index.html"><a href="index.html#dedications"><i class="fa fa-check"></i><b>0.7</b> Dedications</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>1</b> Getting Started</a><ul>
<li class="chapter" data-level="1.1" data-path="getting-started.html"><a href="getting-started.html#getting-started-structure"><i class="fa fa-check"></i><b>1.1</b> Project Structure</a><ul>
<li class="chapter" data-level="1.1.1" data-path="getting-started.html"><a href="getting-started.html#getting-started-boilerplate"><i class="fa fa-check"></i><b>1.1.1</b> Standard information</a></li>
<li class="chapter" data-level="1.1.2" data-path="getting-started.html"><a href="getting-started.html#getting-started-organize"><i class="fa fa-check"></i><b>1.1.2</b> Organizing project content</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="getting-started.html"><a href="getting-started.html#getting-started-download-data"><i class="fa fa-check"></i><b>1.2</b> Downloading the Data</a></li>
<li class="chapter" data-level="1.3" data-path="getting-started.html"><a href="getting-started.html#getting-started-install-software"><i class="fa fa-check"></i><b>1.3</b> Installing the Software</a></li>
<li class="chapter" data-level="1.4" data-path="getting-started.html"><a href="getting-started.html#getting-started-summary"><i class="fa fa-check"></i><b>1.4</b> Summary</a></li>
<li class="chapter" data-level="1.5" data-path="getting-started.html"><a href="getting-started.html#getting-started-exercises"><i class="fa fa-check"></i><b>1.5</b> Exercises</a><ul>
<li class="chapter" data-level="1.5.1" data-path="getting-started.html"><a href="getting-started.html#getting-started-install"><i class="fa fa-check"></i><b>1.5.1</b> Getting ready</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="getting-started.html"><a href="getting-started.html#getting-started-keypoints"><i class="fa fa-check"></i><b>1.6</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="bash-basics.html"><a href="bash-basics.html"><i class="fa fa-check"></i><b>2</b> The Basics of the Unix Shell</a><ul>
<li class="chapter" data-level="2.1" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-explore"><i class="fa fa-check"></i><b>2.1</b> Exploring Files and Directories</a></li>
<li class="chapter" data-level="2.2" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-navigate"><i class="fa fa-check"></i><b>2.2</b> Moving Around</a></li>
<li class="chapter" data-level="2.3" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-filedir"><i class="fa fa-check"></i><b>2.3</b> Creating New Files and Directories</a></li>
<li class="chapter" data-level="2.4" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-move"><i class="fa fa-check"></i><b>2.4</b> Moving Files and Directories</a></li>
<li class="chapter" data-level="2.5" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-copy"><i class="fa fa-check"></i><b>2.5</b> Copying Files and Directories</a></li>
<li class="chapter" data-level="2.6" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-rm"><i class="fa fa-check"></i><b>2.6</b> Deleting Files and Directories</a></li>
<li class="chapter" data-level="2.7" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-wildcard"><i class="fa fa-check"></i><b>2.7</b> Wildcards</a></li>
<li class="chapter" data-level="2.8" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-help"><i class="fa fa-check"></i><b>2.8</b> Reading the Manual</a></li>
<li class="chapter" data-level="2.9" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-summary"><i class="fa fa-check"></i><b>2.9</b> Summary</a></li>
<li class="chapter" data-level="2.10" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-exercises"><i class="fa fa-check"></i><b>2.10</b> Exercises</a><ul>
<li class="chapter" data-level="2.10.1" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-ex-more-ls"><i class="fa fa-check"></i><b>2.10.1</b> Exploring more <code>ls</code> flags</a></li>
<li class="chapter" data-level="2.10.2" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-ex-ls-rt"><i class="fa fa-check"></i><b>2.10.2</b> Listing recursively and by time</a></li>
<li class="chapter" data-level="2.10.3" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-ex-paths"><i class="fa fa-check"></i><b>2.10.3</b> Absolute and relative paths</a></li>
<li class="chapter" data-level="2.10.4" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-ex-resolve-rel-path"><i class="fa fa-check"></i><b>2.10.4</b> Relative path resolution</a></li>
<li class="chapter" data-level="2.10.5" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-ex-reading-ls"><i class="fa fa-check"></i><b>2.10.5</b> <code>ls</code> reading comprehension</a></li>
<li class="chapter" data-level="2.10.6" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-ex-touch"><i class="fa fa-check"></i><b>2.10.6</b> Creating files a different way</a></li>
<li class="chapter" data-level="2.10.7" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-ex-safe-rm"><i class="fa fa-check"></i><b>2.10.7</b> Using <code>rm</code> safely</a></li>
<li class="chapter" data-level="2.10.8" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-ex-move-dot"><i class="fa fa-check"></i><b>2.10.8</b> Moving to the current folder</a></li>
<li class="chapter" data-level="2.10.9" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-ex-renaming-files"><i class="fa fa-check"></i><b>2.10.9</b> Renaming files</a></li>
<li class="chapter" data-level="2.10.10" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-ex-last-ls"><i class="fa fa-check"></i><b>2.10.10</b> Moving and copying</a></li>
<li class="chapter" data-level="2.10.11" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-ex-copy-multi"><i class="fa fa-check"></i><b>2.10.11</b> Copy with multiple filenames</a></li>
<li class="chapter" data-level="2.10.12" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-ex-ls-match"><i class="fa fa-check"></i><b>2.10.12</b> List filenames matching a pattern</a></li>
<li class="chapter" data-level="2.10.13" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-ex-organizing"><i class="fa fa-check"></i><b>2.10.13</b> Organizing directories and files</a></li>
<li class="chapter" data-level="2.10.14" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-ex-reproduce-structure"><i class="fa fa-check"></i><b>2.10.14</b> Reproduce a directory structure</a></li>
<li class="chapter" data-level="2.10.15" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-ex-wildcard-expressions"><i class="fa fa-check"></i><b>2.10.15</b> Wildcard expressions</a></li>
<li class="chapter" data-level="2.10.16" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-ex-remove-unneeded"><i class="fa fa-check"></i><b>2.10.16</b> Removing unneeded files</a></li>
<li class="chapter" data-level="2.10.17" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-ex-other-wildcards"><i class="fa fa-check"></i><b>2.10.17</b> Other wildcards</a></li>
</ul></li>
<li class="chapter" data-level="2.11" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-keypoints"><i class="fa fa-check"></i><b>2.11</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="bash-tools.html"><a href="bash-tools.html"><i class="fa fa-check"></i><b>3</b> Building Tools with the Unix Shell</a><ul>
<li class="chapter" data-level="3.1" data-path="bash-tools.html"><a href="bash-tools.html#bash-tools-pipe"><i class="fa fa-check"></i><b>3.1</b> Combining Commands</a></li>
<li class="chapter" data-level="3.2" data-path="bash-tools.html"><a href="bash-tools.html#bash-tools-stdio"><i class="fa fa-check"></i><b>3.2</b> How Pipes Work</a></li>
<li class="chapter" data-level="3.3" data-path="bash-tools.html"><a href="bash-tools.html#bash-tools-loops"><i class="fa fa-check"></i><b>3.3</b> Repeating Commands on Many Files</a></li>
<li class="chapter" data-level="3.4" data-path="bash-tools.html"><a href="bash-tools.html#bash-tools-meaningless"><i class="fa fa-check"></i><b>3.4</b> Variable Names</a></li>
<li class="chapter" data-level="3.5" data-path="bash-tools.html"><a href="bash-tools.html#bash-tools-history"><i class="fa fa-check"></i><b>3.5</b> Redoing Things</a></li>
<li class="chapter" data-level="3.6" data-path="bash-tools.html"><a href="bash-tools.html#bash-tools-autoname"><i class="fa fa-check"></i><b>3.6</b> Creating New Filenames Automatically</a></li>
<li class="chapter" data-level="3.7" data-path="bash-tools.html"><a href="bash-tools.html#bash-tools-summary"><i class="fa fa-check"></i><b>3.7</b> Summary</a></li>
<li class="chapter" data-level="3.8" data-path="bash-tools.html"><a href="bash-tools.html#bash-tools-exercises"><i class="fa fa-check"></i><b>3.8</b> Exercises</a><ul>
<li class="chapter" data-level="3.8.1" data-path="bash-tools.html"><a href="bash-tools.html#bash-tools-ex-redirect-append"><i class="fa fa-check"></i><b>3.8.1</b> What does <code>&gt;&gt;</code> mean?</a></li>
<li class="chapter" data-level="3.8.2" data-path="bash-tools.html"><a href="bash-tools.html#bash-tools-ex-append-data"><i class="fa fa-check"></i><b>3.8.2</b> Appending data</a></li>
<li class="chapter" data-level="3.8.3" data-path="bash-tools.html"><a href="bash-tools.html#bash-tools-ex-piping"><i class="fa fa-check"></i><b>3.8.3</b> Piping commands</a></li>
<li class="chapter" data-level="3.8.4" data-path="bash-tools.html"><a href="bash-tools.html#bash-tools-ex-uniq-adjacent"><i class="fa fa-check"></i><b>3.8.4</b> Why does <code>uniq</code> only remove adjacent duplicates?</a></li>
<li class="chapter" data-level="3.8.5" data-path="bash-tools.html"><a href="bash-tools.html#bash-tools-ex-reading-pipes"><i class="fa fa-check"></i><b>3.8.5</b> Pipe reading comprehension</a></li>
<li class="chapter" data-level="3.8.6" data-path="bash-tools.html"><a href="bash-tools.html#bash-tools-ex-pipe-construction"><i class="fa fa-check"></i><b>3.8.6</b> Pipe construction</a></li>
<li class="chapter" data-level="3.8.7" data-path="bash-tools.html"><a href="bash-tools.html#bash-tools-ex-which-pipe"><i class="fa fa-check"></i><b>3.8.7</b> Which pipe?</a></li>
<li class="chapter" data-level="3.8.8" data-path="bash-tools.html"><a href="bash-tools.html#bash-tools-ex-loop-dry-run"><i class="fa fa-check"></i><b>3.8.8</b> Doing a dry run</a></li>
<li class="chapter" data-level="3.8.9" data-path="bash-tools.html"><a href="bash-tools.html#bash-tools-ex-loop-variables"><i class="fa fa-check"></i><b>3.8.9</b> Variables in loops</a></li>
<li class="chapter" data-level="3.8.10" data-path="bash-tools.html"><a href="bash-tools.html#bash-tools-ex-limiting-file-sets"><i class="fa fa-check"></i><b>3.8.10</b> Limiting sets of files</a></li>
<li class="chapter" data-level="3.8.11" data-path="bash-tools.html"><a href="bash-tools.html#bash-tools-ex-loop-save"><i class="fa fa-check"></i><b>3.8.11</b> Saving to a file in a loop</a></li>
<li class="chapter" data-level="3.8.12" data-path="bash-tools.html"><a href="bash-tools.html#bash-tools-ex-history-order"><i class="fa fa-check"></i><b>3.8.12</b> Why does <code>history</code> record commands before running them?</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="bash-tools.html"><a href="bash-tools.html#bash-tools-keypoints"><i class="fa fa-check"></i><b>3.9</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="bash-advanced.html"><a href="bash-advanced.html"><i class="fa fa-check"></i><b>4</b> Going Further with the Unix Shell</a><ul>
<li class="chapter" data-level="4.1" data-path="bash-advanced.html"><a href="bash-advanced.html#bash-advanced-script"><i class="fa fa-check"></i><b>4.1</b> Creating New Commands</a></li>
<li class="chapter" data-level="4.2" data-path="bash-advanced.html"><a href="bash-advanced.html#bash-advanced-params"><i class="fa fa-check"></i><b>4.2</b> Making Scripts More Versatile</a></li>
<li class="chapter" data-level="4.3" data-path="bash-advanced.html"><a href="bash-advanced.html#bash-advanced-capture"><i class="fa fa-check"></i><b>4.3</b> Turning Interactive Work into a Script</a></li>
<li class="chapter" data-level="4.4" data-path="bash-advanced.html"><a href="bash-advanced.html#bash-advanced-grep"><i class="fa fa-check"></i><b>4.4</b> Finding Things in Files</a></li>
<li class="chapter" data-level="4.5" data-path="bash-advanced.html"><a href="bash-advanced.html#bash-advanced-find"><i class="fa fa-check"></i><b>4.5</b> Finding Files</a></li>
<li class="chapter" data-level="4.6" data-path="bash-advanced.html"><a href="bash-advanced.html#bash-advanced-vars"><i class="fa fa-check"></i><b>4.6</b> Configuring the Shell</a></li>
<li class="chapter" data-level="4.7" data-path="bash-advanced.html"><a href="bash-advanced.html#bash-advanced-summary"><i class="fa fa-check"></i><b>4.7</b> Summary</a></li>
<li class="chapter" data-level="4.8" data-path="bash-advanced.html"><a href="bash-advanced.html#bash-advanced-exercises"><i class="fa fa-check"></i><b>4.8</b> Exercises</a><ul>
<li class="chapter" data-level="4.8.1" data-path="bash-advanced.html"><a href="bash-advanced.html#bash-advanced-ex-cleaning-up"><i class="fa fa-check"></i><b>4.8.1</b> Cleaning up</a></li>
<li class="chapter" data-level="4.8.2" data-path="bash-advanced.html"><a href="bash-advanced.html#bash-advanced-ex-script-variables"><i class="fa fa-check"></i><b>4.8.2</b> Variables in shell scripts</a></li>
<li class="chapter" data-level="4.8.3" data-path="bash-advanced.html"><a href="bash-advanced.html#bash-advanced-ex-longest-with-extension"><i class="fa fa-check"></i><b>4.8.3</b> Find the longest file with a given extension</a></li>
<li class="chapter" data-level="4.8.4" data-path="bash-advanced.html"><a href="bash-advanced.html#bash-advanced-ex-reading-scripts"><i class="fa fa-check"></i><b>4.8.4</b> Script reading comprehension</a></li>
<li class="chapter" data-level="4.8.5" data-path="bash-advanced.html"><a href="bash-advanced.html#bash-advanced-ex-using-grep"><i class="fa fa-check"></i><b>4.8.5</b> Using <code>grep</code></a></li>
<li class="chapter" data-level="4.8.6" data-path="bash-advanced.html"><a href="bash-advanced.html#bash-advanced-ex-year-script"><i class="fa fa-check"></i><b>4.8.6</b> Tracking publication years</a></li>
<li class="chapter" data-level="4.8.7" data-path="bash-advanced.html"><a href="bash-advanced.html#bash-advanced-ex-sense-sensibility"><i class="fa fa-check"></i><b>4.8.7</b> Counting names</a></li>
<li class="chapter" data-level="4.8.8" data-path="bash-advanced.html"><a href="bash-advanced.html#bash-advanced-ex-match-subtract"><i class="fa fa-check"></i><b>4.8.8</b> Matching and subtracting</a></li>
<li class="chapter" data-level="4.8.9" data-path="bash-advanced.html"><a href="bash-advanced.html#bash-advanced-ex-reading-find"><i class="fa fa-check"></i><b>4.8.9</b> <code>find</code> pipeline reading comprehension</a></li>
<li class="chapter" data-level="4.8.10" data-path="bash-advanced.html"><a href="bash-advanced.html#bash-advanced-ex-find-tests"><i class="fa fa-check"></i><b>4.8.10</b> Finding files with different properties</a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="bash-advanced.html"><a href="bash-advanced.html#bash-advanced-keypoints"><i class="fa fa-check"></i><b>4.9</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="scripting.html"><a href="scripting.html"><i class="fa fa-check"></i><b>5</b> Building Command-Line Tools with Python</a><ul>
<li class="chapter" data-level="5.1" data-path="scripting.html"><a href="scripting.html#scripting-main"><i class="fa fa-check"></i><b>5.1</b> Programs and Modules</a></li>
<li class="chapter" data-level="5.2" data-path="scripting.html"><a href="scripting.html#scripting-options"><i class="fa fa-check"></i><b>5.2</b> Handling Command-Line Options</a></li>
<li class="chapter" data-level="5.3" data-path="scripting.html"><a href="scripting.html#scripting-docstrings"><i class="fa fa-check"></i><b>5.3</b> Documentation</a></li>
<li class="chapter" data-level="5.4" data-path="scripting.html"><a href="scripting.html#scripting-wordcount"><i class="fa fa-check"></i><b>5.4</b> Counting Words</a></li>
<li class="chapter" data-level="5.5" data-path="scripting.html"><a href="scripting.html#scripting-pipeline"><i class="fa fa-check"></i><b>5.5</b> Pipelining</a></li>
<li class="chapter" data-level="5.6" data-path="scripting.html"><a href="scripting.html#scripting-positional-optional"><i class="fa fa-check"></i><b>5.6</b> Positional and Optional Arguments</a></li>
<li class="chapter" data-level="5.7" data-path="scripting.html"><a href="scripting.html#scripting-collate"><i class="fa fa-check"></i><b>5.7</b> Collating Results</a></li>
<li class="chapter" data-level="5.8" data-path="scripting.html"><a href="scripting.html#scripting-modules"><i class="fa fa-check"></i><b>5.8</b> Writing Our Own Modules</a></li>
<li class="chapter" data-level="5.9" data-path="scripting.html"><a href="scripting.html#scripting-plotting"><i class="fa fa-check"></i><b>5.9</b> Plotting</a></li>
<li class="chapter" data-level="5.10" data-path="scripting.html"><a href="scripting.html#scripting-summary"><i class="fa fa-check"></i><b>5.10</b> Summary</a></li>
<li class="chapter" data-level="5.11" data-path="scripting.html"><a href="scripting.html#scripting-exercises"><i class="fa fa-check"></i><b>5.11</b> Exercises</a><ul>
<li class="chapter" data-level="5.11.1" data-path="scripting.html"><a href="scripting.html#scripting-ex-command-line"><i class="fa fa-check"></i><b>5.11.1</b> Running Python statements from the command line</a></li>
<li class="chapter" data-level="5.11.2" data-path="scripting.html"><a href="scripting.html#scripting-ex-glob-ls"><i class="fa fa-check"></i><b>5.11.2</b> Listing files</a></li>
<li class="chapter" data-level="5.11.3" data-path="scripting.html"><a href="scripting.html#scripting-ex-sentence-endings"><i class="fa fa-check"></i><b>5.11.3</b> Sentence ending punctuation</a></li>
<li class="chapter" data-level="5.11.4" data-path="scripting.html"><a href="scripting.html#scripting-ex-better-plotting"><i class="fa fa-check"></i><b>5.11.4</b> A better plotting program</a></li>
</ul></li>
<li class="chapter" data-level="5.12" data-path="scripting.html"><a href="scripting.html#scripting-keypoints"><i class="fa fa-check"></i><b>5.12</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="git-cmdline.html"><a href="git-cmdline.html"><i class="fa fa-check"></i><b>6</b> Using Git at the Command Line</a><ul>
<li class="chapter" data-level="6.1" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-setup"><i class="fa fa-check"></i><b>6.1</b> Setting Up</a></li>
<li class="chapter" data-level="6.2" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-repos"><i class="fa fa-check"></i><b>6.2</b> Creating a New Repository</a></li>
<li class="chapter" data-level="6.3" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-add-existing"><i class="fa fa-check"></i><b>6.3</b> Adding Existing Work</a></li>
<li class="chapter" data-level="6.4" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-commit-message"><i class="fa fa-check"></i><b>6.4</b> Describing Commits</a></li>
<li class="chapter" data-level="6.5" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-changes"><i class="fa fa-check"></i><b>6.5</b> Saving and Tracking Changes</a></li>
<li class="chapter" data-level="6.6" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-remotes"><i class="fa fa-check"></i><b>6.6</b> Synchronizing with Other Repositories</a></li>
<li class="chapter" data-level="6.7" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-history"><i class="fa fa-check"></i><b>6.7</b> Exploring History</a></li>
<li class="chapter" data-level="6.8" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-restore"><i class="fa fa-check"></i><b>6.8</b> Restoring Old Versions of Files</a></li>
<li class="chapter" data-level="6.9" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-ignore"><i class="fa fa-check"></i><b>6.9</b> Ignoring Files</a></li>
<li class="chapter" data-level="6.10" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-summary"><i class="fa fa-check"></i><b>6.10</b> Summary</a></li>
<li class="chapter" data-level="6.11" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-exercises"><i class="fa fa-check"></i><b>6.11</b> Exercises</a><ul>
<li class="chapter" data-level="6.11.1" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-ex-places"><i class="fa fa-check"></i><b>6.11.1</b> Places to create Git repositories</a></li>
<li class="chapter" data-level="6.11.2" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-ex-unsave"><i class="fa fa-check"></i><b>6.11.2</b> Removing before saving</a></li>
<li class="chapter" data-level="6.11.3" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-ex-word-diff"><i class="fa fa-check"></i><b>6.11.3</b> Viewing changes</a></li>
<li class="chapter" data-level="6.11.4" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-ex-commit"><i class="fa fa-check"></i><b>6.11.4</b> Committing changes</a></li>
<li class="chapter" data-level="6.11.5" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-ex-bio"><i class="fa fa-check"></i><b>6.11.5</b> Write your biography</a></li>
<li class="chapter" data-level="6.11.6" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-ex-multiple"><i class="fa fa-check"></i><b>6.11.6</b> Committing multiple files</a></li>
<li class="chapter" data-level="6.11.7" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-ex-timestamp"><i class="fa fa-check"></i><b>6.11.7</b> GitHub timestamps</a></li>
<li class="chapter" data-level="6.11.8" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-ex-history"><i class="fa fa-check"></i><b>6.11.8</b> Workflow and history</a></li>
<li class="chapter" data-level="6.11.9" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-ex-ignore-nested"><i class="fa fa-check"></i><b>6.11.9</b> Ignoring nested files</a></li>
<li class="chapter" data-level="6.11.10" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-ex-include"><i class="fa fa-check"></i><b>6.11.10</b> Including specific files</a></li>
<li class="chapter" data-level="6.11.11" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-ex-github-interface"><i class="fa fa-check"></i><b>6.11.11</b> Exploring the GitHub interface</a></li>
<li class="chapter" data-level="6.11.12" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-ex-push-commit"><i class="fa fa-check"></i><b>6.11.12</b> Push versus commit</a></li>
<li class="chapter" data-level="6.11.13" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-ex-boilerplate"><i class="fa fa-check"></i><b>6.11.13</b> License and README files</a></li>
<li class="chapter" data-level="6.11.14" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-ex-recover"><i class="fa fa-check"></i><b>6.11.14</b> Recovering older versions of a file</a></li>
<li class="chapter" data-level="6.11.15" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-ex-diff"><i class="fa fa-check"></i><b>6.11.15</b> Understanding <code>git diff</code></a></li>
<li class="chapter" data-level="6.11.16" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-ex-unstage"><i class="fa fa-check"></i><b>6.11.16</b> Getting rid of staged changes</a></li>
<li class="chapter" data-level="6.11.17" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-ex-blame"><i class="fa fa-check"></i><b>6.11.17</b> Figuring out who did what</a></li>
</ul></li>
<li class="chapter" data-level="6.12" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-keypoints"><i class="fa fa-check"></i><b>6.12</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="git-advanced.html"><a href="git-advanced.html"><i class="fa fa-check"></i><b>7</b> Going Further with Git</a><ul>
<li class="chapter" data-level="7.1" data-path="git-advanced.html"><a href="git-advanced.html#git-advanced-branch-what"><i class="fa fa-check"></i><b>7.1</b> What’s a Branch?</a></li>
<li class="chapter" data-level="7.2" data-path="git-advanced.html"><a href="git-advanced.html#git-advanced-branch-how"><i class="fa fa-check"></i><b>7.2</b> Creating a Branch</a></li>
<li class="chapter" data-level="7.3" data-path="git-advanced.html"><a href="git-advanced.html#git-advanced-theory"><i class="fa fa-check"></i><b>7.3</b> What Curve Should We Fit?</a></li>
<li class="chapter" data-level="7.4" data-path="git-advanced.html"><a href="git-advanced.html#git-advanced-zipf-verify"><i class="fa fa-check"></i><b>7.4</b> Verifying Zipf’s Law</a></li>
<li class="chapter" data-level="7.5" data-path="git-advanced.html"><a href="git-advanced.html#git-advanced-merge"><i class="fa fa-check"></i><b>7.5</b> Merging</a></li>
<li class="chapter" data-level="7.6" data-path="git-advanced.html"><a href="git-advanced.html#git-advanced-conflict"><i class="fa fa-check"></i><b>7.6</b> Handling Conflicts</a></li>
<li class="chapter" data-level="7.7" data-path="git-advanced.html"><a href="git-advanced.html#git-advanced-workflow"><i class="fa fa-check"></i><b>7.7</b> A Branch-Based Workflow</a></li>
<li class="chapter" data-level="7.8" data-path="git-advanced.html"><a href="git-advanced.html#git-advanced-fork"><i class="fa fa-check"></i><b>7.8</b> Using Other People’s Work</a></li>
<li class="chapter" data-level="7.9" data-path="git-advanced.html"><a href="git-advanced.html#git-advanced-pull-requests"><i class="fa fa-check"></i><b>7.9</b> Pull Requests</a></li>
<li class="chapter" data-level="7.10" data-path="git-advanced.html"><a href="git-advanced.html#git-advanced-pr-conflict"><i class="fa fa-check"></i><b>7.10</b> Handling Conflicts in Pull Requests</a></li>
<li class="chapter" data-level="7.11" data-path="git-advanced.html"><a href="git-advanced.html#git-advanced-summary"><i class="fa fa-check"></i><b>7.11</b> Summary</a></li>
<li class="chapter" data-level="7.12" data-path="git-advanced.html"><a href="git-advanced.html#git-advanced-exercises"><i class="fa fa-check"></i><b>7.12</b> Exercises</a><ul>
<li class="chapter" data-level="7.12.1" data-path="git-advanced.html"><a href="git-advanced.html#git-advanced-ex-explain-options"><i class="fa fa-check"></i><b>7.12.1</b> Explaining options</a></li>
<li class="chapter" data-level="7.12.2" data-path="git-advanced.html"><a href="git-advanced.html#git-advanced-ex-modify-prompt"><i class="fa fa-check"></i><b>7.12.2</b> Modifying prompt</a></li>
<li class="chapter" data-level="7.12.3" data-path="git-advanced.html"><a href="git-advanced.html#git-advanced-ex-ignoring-files"><i class="fa fa-check"></i><b>7.12.3</b> Ignoring files</a></li>
<li class="chapter" data-level="7.12.4" data-path="git-advanced.html"><a href="git-advanced.html#git-advanced-ex-create-twice"><i class="fa fa-check"></i><b>7.12.4</b> Creating the same file twice</a></li>
<li class="chapter" data-level="7.12.5" data-path="git-advanced.html"><a href="git-advanced.html#git-advanced-ex-delete-unmerged"><i class="fa fa-check"></i><b>7.12.5</b> Deleting a branch without merging</a></li>
<li class="chapter" data-level="7.12.6" data-path="git-advanced.html"><a href="git-advanced.html#git-advanced-ex-trace-changes"><i class="fa fa-check"></i><b>7.12.6</b> Tracing changes</a></li>
</ul></li>
<li class="chapter" data-level="7.13" data-path="git-advanced.html"><a href="git-advanced.html#git-advanced-keypoints"><i class="fa fa-check"></i><b>7.13</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="teams.html"><a href="teams.html"><i class="fa fa-check"></i><b>8</b> Working in Teams</a><ul>
<li class="chapter" data-level="8.1" data-path="teams.html"><a href="teams.html#teams-scope"><i class="fa fa-check"></i><b>8.1</b> What Is a Project?</a></li>
<li class="chapter" data-level="8.2" data-path="teams.html"><a href="teams.html#teams-inclusive"><i class="fa fa-check"></i><b>8.2</b> Include Everyone</a></li>
<li class="chapter" data-level="8.3" data-path="teams.html"><a href="teams.html#teams-coc"><i class="fa fa-check"></i><b>8.3</b> Establish a Code of Conduct</a></li>
<li class="chapter" data-level="8.4" data-path="teams.html"><a href="teams.html#teams-license"><i class="fa fa-check"></i><b>8.4</b> Include a License</a><ul>
<li class="chapter" data-level="8.4.1" data-path="teams.html"><a href="teams.html#teams-license-software"><i class="fa fa-check"></i><b>8.4.1</b> Software</a></li>
<li class="chapter" data-level="8.4.2" data-path="teams.html"><a href="teams.html#teams-license-other"><i class="fa fa-check"></i><b>8.4.2</b> Data and reports</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="teams.html"><a href="teams.html#teams-planning"><i class="fa fa-check"></i><b>8.5</b> Planning</a></li>
<li class="chapter" data-level="8.6" data-path="teams.html"><a href="teams.html#teams-bugs"><i class="fa fa-check"></i><b>8.6</b> Bug Reports</a></li>
<li class="chapter" data-level="8.7" data-path="teams.html"><a href="teams.html#teams-labels"><i class="fa fa-check"></i><b>8.7</b> Labeling Issues</a><ul>
<li class="chapter" data-level="8.7.1" data-path="teams.html"><a href="teams.html#teams-workflow"><i class="fa fa-check"></i><b>8.7.1</b> Standardizing workflows</a></li>
</ul></li>
<li class="chapter" data-level="8.8" data-path="teams.html"><a href="teams.html#teams-prioritize"><i class="fa fa-check"></i><b>8.8</b> Prioritizing</a></li>
<li class="chapter" data-level="8.9" data-path="teams.html"><a href="teams.html#teams-meetings"><i class="fa fa-check"></i><b>8.9</b> Meetings</a><ul>
<li class="chapter" data-level="8.9.1" data-path="teams.html"><a href="teams.html#teams-fair"><i class="fa fa-check"></i><b>8.9.1</b> Air time</a></li>
<li class="chapter" data-level="8.9.2" data-path="teams.html"><a href="teams.html#teams-online"><i class="fa fa-check"></i><b>8.9.2</b> Online meetings</a></li>
</ul></li>
<li class="chapter" data-level="8.10" data-path="teams.html"><a href="teams.html#teams-martha"><i class="fa fa-check"></i><b>8.10</b> Making Decisions</a></li>
<li class="chapter" data-level="8.11" data-path="teams.html"><a href="teams.html#teams-documentation"><i class="fa fa-check"></i><b>8.11</b> Make All This Obvious to Newcomers</a></li>
<li class="chapter" data-level="8.12" data-path="teams.html"><a href="teams.html#teams-conflict"><i class="fa fa-check"></i><b>8.12</b> Handling Conflict</a></li>
<li class="chapter" data-level="8.13" data-path="teams.html"><a href="teams.html#teams-summary"><i class="fa fa-check"></i><b>8.13</b> Summary</a></li>
<li class="chapter" data-level="8.14" data-path="teams.html"><a href="teams.html#teams-exercises"><i class="fa fa-check"></i><b>8.14</b> Exercises</a><ul>
<li class="chapter" data-level="8.14.1" data-path="teams.html"><a href="teams.html#teams-ex-scavenger-hunt"><i class="fa fa-check"></i><b>8.14.1</b> Finding information</a></li>
<li class="chapter" data-level="8.14.2" data-path="teams.html"><a href="teams.html#teams-ex-boilerplate-coc"><i class="fa fa-check"></i><b>8.14.2</b> Add a Code of Conduct to your project</a></li>
<li class="chapter" data-level="8.14.3" data-path="teams.html"><a href="teams.html#teams-ex-boilerplate-license"><i class="fa fa-check"></i><b>8.14.3</b> Add a license to your project</a></li>
<li class="chapter" data-level="8.14.4" data-path="teams.html"><a href="teams.html#teams-ex-contributing"><i class="fa fa-check"></i><b>8.14.4</b> Adding contribution guidelines</a></li>
<li class="chapter" data-level="8.14.5" data-path="teams.html"><a href="teams.html#teams-ex-file-issue"><i class="fa fa-check"></i><b>8.14.5</b> File an issue</a></li>
<li class="chapter" data-level="8.14.6" data-path="teams.html"><a href="teams.html#teams-ex-label"><i class="fa fa-check"></i><b>8.14.6</b> Label issues</a></li>
<li class="chapter" data-level="8.14.7" data-path="teams.html"><a href="teams.html#teams-ex-balancing"><i class="fa fa-check"></i><b>8.14.7</b> Balancing individual and team needs</a></li>
<li class="chapter" data-level="8.14.8" data-path="teams.html"><a href="teams.html#teams-ex-invisible"><i class="fa fa-check"></i><b>8.14.8</b> Crediting invisible contributions</a></li>
<li class="chapter" data-level="8.14.9" data-path="teams.html"><a href="teams.html#teams-ex-members"><i class="fa fa-check"></i><b>8.14.9</b> Who are you?</a></li>
</ul></li>
<li class="chapter" data-level="8.15" data-path="teams.html"><a href="teams.html#teams-keypoints"><i class="fa fa-check"></i><b>8.15</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="automate.html"><a href="automate.html"><i class="fa fa-check"></i><b>9</b> Automating Analyses with Make</a><ul>
<li class="chapter" data-level="9.1" data-path="automate.html"><a href="automate.html#automate-single-file"><i class="fa fa-check"></i><b>9.1</b> Updating a Single File</a></li>
<li class="chapter" data-level="9.2" data-path="automate.html"><a href="automate.html#automate-multiple"><i class="fa fa-check"></i><b>9.2</b> Managing Multiple Files</a></li>
<li class="chapter" data-level="9.3" data-path="automate.html"><a href="automate.html#automate-depend-programs"><i class="fa fa-check"></i><b>9.3</b> Updating Files When Programs Change</a></li>
<li class="chapter" data-level="9.4" data-path="automate.html"><a href="automate.html#automate-variables"><i class="fa fa-check"></i><b>9.4</b> Reducing Repetition in a Makefile</a></li>
<li class="chapter" data-level="9.5" data-path="automate.html"><a href="automate.html#automate-autovar"><i class="fa fa-check"></i><b>9.5</b> Automatic Variables</a></li>
<li class="chapter" data-level="9.6" data-path="automate.html"><a href="automate.html#automate-pattern"><i class="fa fa-check"></i><b>9.6</b> Generic Rules</a></li>
<li class="chapter" data-level="9.7" data-path="automate.html"><a href="automate.html#automate-functions"><i class="fa fa-check"></i><b>9.7</b> Defining Sets of Files</a></li>
<li class="chapter" data-level="9.8" data-path="automate.html"><a href="automate.html#automate-doc"><i class="fa fa-check"></i><b>9.8</b> Documenting a Makefile</a></li>
<li class="chapter" data-level="9.9" data-path="automate.html"><a href="automate.html#automate-pipeline"><i class="fa fa-check"></i><b>9.9</b> Automating Entire Analyses</a></li>
<li class="chapter" data-level="9.10" data-path="automate.html"><a href="automate.html#automate-summary"><i class="fa fa-check"></i><b>9.10</b> Summary</a></li>
<li class="chapter" data-level="9.11" data-path="automate.html"><a href="automate.html#automate-exercises"><i class="fa fa-check"></i><b>9.11</b> Exercises</a><ul>
<li class="chapter" data-level="9.11.1" data-path="automate.html"><a href="automate.html#automate-ex-report-change"><i class="fa fa-check"></i><b>9.11.1</b> Report results that would change</a></li>
<li class="chapter" data-level="9.11.2" data-path="automate.html"><a href="automate.html#automate-ex-useful-options"><i class="fa fa-check"></i><b>9.11.2</b> Useful options</a></li>
<li class="chapter" data-level="9.11.3" data-path="automate.html"><a href="automate.html#automate-ex-mkdir"><i class="fa fa-check"></i><b>9.11.3</b> Make sure the output directory exists</a></li>
<li class="chapter" data-level="9.11.4" data-path="automate.html"><a href="automate.html#automate-ex-print"><i class="fa fa-check"></i><b>9.11.4</b> Print the title and author</a></li>
<li class="chapter" data-level="9.11.5" data-path="automate.html"><a href="automate.html#automate-ex-all-results"><i class="fa fa-check"></i><b>9.11.5</b> Create all results</a></li>
<li class="chapter" data-level="9.11.6" data-path="automate.html"><a href="automate.html#automate-ex-wildcard-perils"><i class="fa fa-check"></i><b>9.11.6</b> The perils of shell wildcards</a></li>
<li class="chapter" data-level="9.11.7" data-path="automate.html"><a href="automate.html#automate-ex-readable-docs"><i class="fa fa-check"></i><b>9.11.7</b> Making documentation more readable</a></li>
<li class="chapter" data-level="9.11.8" data-path="automate.html"><a href="automate.html#automate-ex-configuration"><i class="fa fa-check"></i><b>9.11.8</b> Configuration</a></li>
</ul></li>
<li class="chapter" data-level="9.12" data-path="automate.html"><a href="automate.html#automate-keypoints"><i class="fa fa-check"></i><b>9.12</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="config.html"><a href="config.html"><i class="fa fa-check"></i><b>10</b> Configuring Programs</a><ul>
<li class="chapter" data-level="10.1" data-path="config.html"><a href="config.html#config-formats"><i class="fa fa-check"></i><b>10.1</b> Configuration File Formats</a></li>
<li class="chapter" data-level="10.2" data-path="config.html"><a href="config.html#config-matplotlib"><i class="fa fa-check"></i><b>10.2</b> Matplotlib Configuration</a></li>
<li class="chapter" data-level="10.3" data-path="config.html"><a href="config.html#config-global"><i class="fa fa-check"></i><b>10.3</b> The Global Configuration File</a></li>
<li class="chapter" data-level="10.4" data-path="config.html"><a href="config.html#config-user"><i class="fa fa-check"></i><b>10.4</b> The User Configuration File</a></li>
<li class="chapter" data-level="10.5" data-path="config.html"><a href="config.html#config-command-line"><i class="fa fa-check"></i><b>10.5</b> Adding Command-Line Options</a></li>
<li class="chapter" data-level="10.6" data-path="config.html"><a href="config.html#config-job-file"><i class="fa fa-check"></i><b>10.6</b> A Job Control File</a></li>
<li class="chapter" data-level="10.7" data-path="config.html"><a href="config.html#config-summary"><i class="fa fa-check"></i><b>10.7</b> Summary</a></li>
<li class="chapter" data-level="10.8" data-path="config.html"><a href="config.html#config-exercises"><i class="fa fa-check"></i><b>10.8</b> Exercises</a><ul>
<li class="chapter" data-level="10.8.1" data-path="config.html"><a href="config.html#config-ex-build-plotparams"><i class="fa fa-check"></i><b>10.8.1</b> Building with plotting parameters</a></li>
<li class="chapter" data-level="10.8.2" data-path="config.html"><a href="config.html#config-ex-style"><i class="fa fa-check"></i><b>10.8.2</b> Using different plot styles</a></li>
<li class="chapter" data-level="10.8.3" data-path="config.html"><a href="config.html#config-ex-saveload"><i class="fa fa-check"></i><b>10.8.3</b> Saving configurations</a></li>
<li class="chapter" data-level="10.8.4" data-path="config.html"><a href="config.html#config-ex-ini"><i class="fa fa-check"></i><b>10.8.4</b> Using INI syntax</a></li>
<li class="chapter" data-level="10.8.5" data-path="config.html"><a href="config.html#config-ex-consistency"><i class="fa fa-check"></i><b>10.8.5</b> Configuration consistency</a></li>
</ul></li>
<li class="chapter" data-level="10.9" data-path="config.html"><a href="config.html#config-keypoints"><i class="fa fa-check"></i><b>10.9</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="testing.html"><a href="testing.html"><i class="fa fa-check"></i><b>11</b> Testing Software</a><ul>
<li class="chapter" data-level="11.1" data-path="testing.html"><a href="testing.html#testing-assertions"><i class="fa fa-check"></i><b>11.1</b> Assertions</a></li>
<li class="chapter" data-level="11.2" data-path="testing.html"><a href="testing.html#testing-unit"><i class="fa fa-check"></i><b>11.2</b> Unit Testing</a></li>
<li class="chapter" data-level="11.3" data-path="testing.html"><a href="testing.html#testing-framework"><i class="fa fa-check"></i><b>11.3</b> Testing Frameworks</a></li>
<li class="chapter" data-level="11.4" data-path="testing.html"><a href="testing.html#testing-numeric"><i class="fa fa-check"></i><b>11.4</b> Testing Floating-Point Values</a></li>
<li class="chapter" data-level="11.5" data-path="testing.html"><a href="testing.html#testing-integration"><i class="fa fa-check"></i><b>11.5</b> Integration Testing</a></li>
<li class="chapter" data-level="11.6" data-path="testing.html"><a href="testing.html#testing-regression"><i class="fa fa-check"></i><b>11.6</b> Regression Testing</a></li>
<li class="chapter" data-level="11.7" data-path="testing.html"><a href="testing.html#testing-coverage"><i class="fa fa-check"></i><b>11.7</b> Test Coverage</a></li>
<li class="chapter" data-level="11.8" data-path="testing.html"><a href="testing.html#testing-ci"><i class="fa fa-check"></i><b>11.8</b> Continuous Integration</a></li>
<li class="chapter" data-level="11.9" data-path="testing.html"><a href="testing.html#testing-tdd"><i class="fa fa-check"></i><b>11.9</b> When to Write Tests</a></li>
<li class="chapter" data-level="11.10" data-path="testing.html"><a href="testing.html#testing-summary"><i class="fa fa-check"></i><b>11.10</b> Summary</a></li>
<li class="chapter" data-level="11.11" data-path="testing.html"><a href="testing.html#testing-exercises"><i class="fa fa-check"></i><b>11.11</b> Exercises</a><ul>
<li class="chapter" data-level="11.11.1" data-path="testing.html"><a href="testing.html#testing-ex-explain-assertions"><i class="fa fa-check"></i><b>11.11.1</b> Explaining assertions</a></li>
<li class="chapter" data-level="11.11.2" data-path="testing.html"><a href="testing.html#testing-ex-rectangles"><i class="fa fa-check"></i><b>11.11.2</b> Rectangle normalization</a></li>
<li class="chapter" data-level="11.11.3" data-path="testing.html"><a href="testing.html#testing-ex-random"><i class="fa fa-check"></i><b>11.11.3</b> Testing with randomness</a></li>
<li class="chapter" data-level="11.11.4" data-path="testing.html"><a href="testing.html#testing-ex-relative-error"><i class="fa fa-check"></i><b>11.11.4</b> Testing with relative error</a></li>
</ul></li>
<li class="chapter" data-level="11.12" data-path="testing.html"><a href="testing.html#testing-keypoints"><i class="fa fa-check"></i><b>11.12</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="errors.html"><a href="errors.html"><i class="fa fa-check"></i><b>12</b> Handling Errors</a><ul>
<li class="chapter" data-level="12.1" data-path="errors.html"><a href="errors.html#errors-exceptions"><i class="fa fa-check"></i><b>12.1</b> Exceptions</a></li>
<li class="chapter" data-level="12.2" data-path="errors.html"><a href="errors.html#errors-messages"><i class="fa fa-check"></i><b>12.2</b> Writing Useful Error Messages</a></li>
<li class="chapter" data-level="12.3" data-path="errors.html"><a href="errors.html#errors-testing"><i class="fa fa-check"></i><b>12.3</b> Testing Error Handling</a></li>
<li class="chapter" data-level="12.4" data-path="errors.html"><a href="errors.html#errors-logging"><i class="fa fa-check"></i><b>12.4</b> Reporting Errors</a></li>
<li class="chapter" data-level="12.5" data-path="errors.html"><a href="errors.html#errors-summary"><i class="fa fa-check"></i><b>12.5</b> Summary</a></li>
<li class="chapter" data-level="12.6" data-path="errors.html"><a href="errors.html#errors-exercises"><i class="fa fa-check"></i><b>12.6</b> Exercises</a><ul>
<li class="chapter" data-level="12.6.1" data-path="errors.html"><a href="errors.html#errors-ex-set-level"><i class="fa fa-check"></i><b>12.6.1</b> Set the logging level</a></li>
<li class="chapter" data-level="12.6.2" data-path="errors.html"><a href="errors.html#errors-ex-logging-output"><i class="fa fa-check"></i><b>12.6.2</b> Send the logging output to file</a></li>
<li class="chapter" data-level="12.6.3" data-path="errors.html"><a href="errors.html#errors-ex-exceptions"><i class="fa fa-check"></i><b>12.6.3</b> Handling exceptions</a></li>
<li class="chapter" data-level="12.6.4" data-path="errors.html"><a href="errors.html#errors-ex-error-handling"><i class="fa fa-check"></i><b>12.6.4</b> Testing error handling</a></li>
<li class="chapter" data-level="12.6.5" data-path="errors.html"><a href="errors.html#errors-ex-catalog"><i class="fa fa-check"></i><b>12.6.5</b> Error catalogs</a></li>
<li class="chapter" data-level="12.6.6" data-path="errors.html"><a href="errors.html#errors-ex-traceback"><i class="fa fa-check"></i><b>12.6.6</b> Tracebacks</a></li>
</ul></li>
<li class="chapter" data-level="12.7" data-path="errors.html"><a href="errors.html#errors-keypoints"><i class="fa fa-check"></i><b>12.7</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="provenance.html"><a href="provenance.html"><i class="fa fa-check"></i><b>13</b> Tracking Provenance</a><ul>
<li class="chapter" data-level="13.1" data-path="provenance.html"><a href="provenance.html#provenance-data"><i class="fa fa-check"></i><b>13.1</b> Data Provenance</a><ul>
<li class="chapter" data-level="13.1.1" data-path="provenance.html"><a href="provenance.html#provenance-data-fair"><i class="fa fa-check"></i><b>13.1.1</b> The FAIR Principles</a></li>
<li class="chapter" data-level="13.1.2" data-path="provenance.html"><a href="provenance.html#provenance-data-where"><i class="fa fa-check"></i><b>13.1.2</b> Where to archive data</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="provenance.html"><a href="provenance.html#provenance-code"><i class="fa fa-check"></i><b>13.2</b> Code Provenance</a><ul>
<li class="chapter" data-level="13.2.1" data-path="provenance.html"><a href="provenance.html#provenance-code-environment"><i class="fa fa-check"></i><b>13.2.1</b> Software environment</a></li>
<li class="chapter" data-level="13.2.2" data-path="provenance.html"><a href="provenance.html#provenance-code-steps"><i class="fa fa-check"></i><b>13.2.2</b> Data processing steps</a></li>
<li class="chapter" data-level="13.2.3" data-path="provenance.html"><a href="provenance.html#provenance-code-scripts"><i class="fa fa-check"></i><b>13.2.3</b> Analysis scripts</a></li>
<li class="chapter" data-level="13.2.4" data-path="provenance.html"><a href="provenance.html#provenance-inspectability"><i class="fa fa-check"></i><b>13.2.4</b> Reproducibility versus inspectability</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="provenance.html"><a href="provenance.html#provenance-summary"><i class="fa fa-check"></i><b>13.3</b> Summary</a></li>
<li class="chapter" data-level="13.4" data-path="provenance.html"><a href="provenance.html#provenance-exercises"><i class="fa fa-check"></i><b>13.4</b> Exercises</a><ul>
<li class="chapter" data-level="13.4.1" data-path="provenance.html"><a href="provenance.html#provenance-ex-get-orcid"><i class="fa fa-check"></i><b>13.4.1</b> ORCID</a></li>
<li class="chapter" data-level="13.4.2" data-path="provenance.html"><a href="provenance.html#provenance-ex-fair-test"><i class="fa fa-check"></i><b>13.4.2</b> A FAIR test</a></li>
<li class="chapter" data-level="13.4.3" data-path="provenance.html"><a href="provenance.html#provenance-ex-understand-project"><i class="fa fa-check"></i><b>13.4.3</b> Evaluate a project’s data provenance</a></li>
<li class="chapter" data-level="13.4.4" data-path="provenance.html"><a href="provenance.html#provenance-ex-eval-code"><i class="fa fa-check"></i><b>13.4.4</b> Evaluate a project’s code provenance</a></li>
<li class="chapter" data-level="13.4.5" data-path="provenance.html"><a href="provenance.html#provenance-ex-permanent-links"><i class="fa fa-check"></i><b>13.4.5</b> Making permanent links</a></li>
<li class="chapter" data-level="13.4.6" data-path="provenance.html"><a href="provenance.html#provenance-ex-release"><i class="fa fa-check"></i><b>13.4.6</b> Create an archive of your Zipf’s analysis</a></li>
<li class="chapter" data-level="13.4.7" data-path="provenance.html"><a href="provenance.html#provenance-ex-publish-code"><i class="fa fa-check"></i><b>13.4.7</b> Publishing your code</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="provenance.html"><a href="provenance.html#publish-keypoints"><i class="fa fa-check"></i><b>13.5</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="packaging.html"><a href="packaging.html"><i class="fa fa-check"></i><b>14</b> Creating Packages with Python</a><ul>
<li class="chapter" data-level="14.1" data-path="packaging.html"><a href="packaging.html#packaging-package"><i class="fa fa-check"></i><b>14.1</b> Creating a Python Package</a></li>
<li class="chapter" data-level="14.2" data-path="packaging.html"><a href="packaging.html#packaging-virtualenv"><i class="fa fa-check"></i><b>14.2</b> Virtual Environments</a></li>
<li class="chapter" data-level="14.3" data-path="packaging.html"><a href="packaging.html#packaging-installing"><i class="fa fa-check"></i><b>14.3</b> Installing a Development Package</a></li>
<li class="chapter" data-level="14.4" data-path="packaging.html"><a href="packaging.html#packaging-installation"><i class="fa fa-check"></i><b>14.4</b> What Installation Does</a></li>
<li class="chapter" data-level="14.5" data-path="packaging.html"><a href="packaging.html#packaging-distribute"><i class="fa fa-check"></i><b>14.5</b> Distributing Packages</a></li>
<li class="chapter" data-level="14.6" data-path="packaging.html"><a href="packaging.html#packaging-document"><i class="fa fa-check"></i><b>14.6</b> Documenting Packages</a><ul>
<li class="chapter" data-level="14.6.1" data-path="packaging.html"><a href="packaging.html#packaging-readme"><i class="fa fa-check"></i><b>14.6.1</b> Including package-level documentation in the <code>README</code></a></li>
<li class="chapter" data-level="14.6.2" data-path="packaging.html"><a href="packaging.html#packaging-sphinx"><i class="fa fa-check"></i><b>14.6.2</b> Creating a web page for documentation</a></li>
<li class="chapter" data-level="14.6.3" data-path="packaging.html"><a href="packaging.html#packaging-rtd"><i class="fa fa-check"></i><b>14.6.3</b> Hosting documentation online</a></li>
</ul></li>
<li class="chapter" data-level="14.7" data-path="packaging.html"><a href="packaging.html#packaging-software-journals"><i class="fa fa-check"></i><b>14.7</b> Software Journals</a></li>
<li class="chapter" data-level="14.8" data-path="packaging.html"><a href="packaging.html#packaging-summary"><i class="fa fa-check"></i><b>14.8</b> Summary</a></li>
<li class="chapter" data-level="14.9" data-path="packaging.html"><a href="packaging.html#exercises"><i class="fa fa-check"></i><b>14.9</b> Exercises</a><ul>
<li class="chapter" data-level="14.9.1" data-path="packaging.html"><a href="packaging.html#packaging-ex-metadata"><i class="fa fa-check"></i><b>14.9.1</b> Package metadata</a></li>
<li class="chapter" data-level="14.9.2" data-path="packaging.html"><a href="packaging.html#packaging-ex-separating-requirements"><i class="fa fa-check"></i><b>14.9.2</b> Separating requirements</a></li>
<li class="chapter" data-level="14.9.3" data-path="packaging.html"><a href="packaging.html#packaging-ex-software-review"><i class="fa fa-check"></i><b>14.9.3</b> Software review</a></li>
<li class="chapter" data-level="14.9.4" data-path="packaging.html"><a href="packaging.html#packaging-ex-pratchett"><i class="fa fa-check"></i><b>14.9.4</b> Packaging quotations</a></li>
</ul></li>
<li class="chapter" data-level="14.10" data-path="packaging.html"><a href="packaging.html#packaging-keypoints"><i class="fa fa-check"></i><b>14.10</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="finale.html"><a href="finale.html"><i class="fa fa-check"></i><b>15</b> Finale</a><ul>
<li class="chapter" data-level="15.1" data-path="finale.html"><a href="finale.html#why-we-wrote-this-book"><i class="fa fa-check"></i><b>15.1</b> Why We Wrote This Book</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="solutions.html"><a href="solutions.html"><i class="fa fa-check"></i><b>A</b> Solutions</a><ul>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#chapter-refbash-basics"><i class="fa fa-check"></i>Chapter @ref(bash-basics)</a><ul>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refbash-basics-ex-more-ls"><i class="fa fa-check"></i>Exercise @ref(bash-basics-ex-more-ls)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refbash-basics-ex-ls-rt"><i class="fa fa-check"></i>Exercise @ref(bash-basics-ex-ls-rt)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refbash-basics-ex-paths"><i class="fa fa-check"></i>Exercise @ref(bash-basics-ex-paths)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refbash-basics-ex-resolve-rel-path"><i class="fa fa-check"></i>Exercise @ref(bash-basics-ex-resolve-rel-path)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refbash-basics-ex-reading-ls"><i class="fa fa-check"></i>Exercise @ref(bash-basics-ex-reading-ls)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refbash-basics-ex-touch"><i class="fa fa-check"></i>Exercise @ref(bash-basics-ex-touch)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refbash-basics-ex-safe-rm"><i class="fa fa-check"></i>Exercise @ref(bash-basics-ex-safe-rm)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refbash-basics-ex-move-dot"><i class="fa fa-check"></i>Exercise @ref(bash-basics-ex-move-dot)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refbash-basics-ex-renaming-files"><i class="fa fa-check"></i>Exercise @ref(bash-basics-ex-renaming-files)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refbash-basics-ex-last-ls"><i class="fa fa-check"></i>Exercise @ref(bash-basics-ex-last-ls)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refbash-basics-ex-copy-multi"><i class="fa fa-check"></i>Exercise @ref(bash-basics-ex-copy-multi)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refbash-basics-ex-ls-match"><i class="fa fa-check"></i>Exercise @ref(bash-basics-ex-ls-match)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refbash-basics-ex-organizing"><i class="fa fa-check"></i>Exercise @ref(bash-basics-ex-organizing)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refbash-basics-ex-reproduce-structure"><i class="fa fa-check"></i>Exercise @ref(bash-basics-ex-reproduce-structure)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refbash-basics-ex-wildcard-expressions"><i class="fa fa-check"></i>Exercise @ref(bash-basics-ex-wildcard-expressions)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refbash-basics-ex-remove-unneeded"><i class="fa fa-check"></i>Exercise @ref(bash-basics-ex-remove-unneeded)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refbash-basics-ex-other-wildcards"><i class="fa fa-check"></i>Exercise @ref(bash-basics-ex-other-wildcards)</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#chapter-refbash-tools"><i class="fa fa-check"></i>Chapter @ref(bash-tools)</a><ul>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refbash-tools-ex-redirect-append"><i class="fa fa-check"></i>Exercise @ref(bash-tools-ex-redirect-append)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refbash-tools-ex-append-data"><i class="fa fa-check"></i>Exercise @ref(bash-tools-ex-append-data)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refbash-tools-ex-piping"><i class="fa fa-check"></i>Exercise @ref(bash-tools-ex-piping)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refbash-tools-ex-uniq-adjacent"><i class="fa fa-check"></i>Exercise @ref(bash-tools-ex-uniq-adjacent)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refbash-tools-ex-reading-pipes"><i class="fa fa-check"></i>Exercise @ref(bash-tools-ex-reading-pipes)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refbash-tools-ex-pipe-construction"><i class="fa fa-check"></i>Exercise @ref(bash-tools-ex-pipe-construction)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refbash-tools-ex-which-pipe"><i class="fa fa-check"></i>Exercise @ref(bash-tools-ex-which-pipe)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refbash-tools-ex-loop-dry-run"><i class="fa fa-check"></i>Exercise @ref(bash-tools-ex-loop-dry-run)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refbash-tools-ex-loop-variables"><i class="fa fa-check"></i>Exercise @ref(bash-tools-ex-loop-variables)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refbash-tools-ex-limiting-file-sets"><i class="fa fa-check"></i>Exercise @ref(bash-tools-ex-limiting-file-sets)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refbash-tools-ex-loop-save"><i class="fa fa-check"></i>Exercise @ref(bash-tools-ex-loop-save)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refbash-tools-ex-history-order"><i class="fa fa-check"></i>Exercise @ref(bash-tools-ex-history-order)</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#chapter-refbash-advanced"><i class="fa fa-check"></i>Chapter @ref(bash-advanced)</a><ul>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refbash-advanced-ex-cleaning-up"><i class="fa fa-check"></i>Exercise @ref(bash-advanced-ex-cleaning-up)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refbash-advanced-ex-script-variables"><i class="fa fa-check"></i>Exercise @ref(bash-advanced-ex-script-variables)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refbash-advanced-ex-longest-with-extension"><i class="fa fa-check"></i>Exercise @ref(bash-advanced-ex-longest-with-extension)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refbash-advanced-ex-reading-scripts"><i class="fa fa-check"></i>Exercise @ref(bash-advanced-ex-reading-scripts)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refbash-advanced-ex-using-grep"><i class="fa fa-check"></i>Exercise @ref(bash-advanced-ex-using-grep)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refbash-advanced-ex-year-script"><i class="fa fa-check"></i>Exercise @ref(bash-advanced-ex-year-script)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refbash-advanced-ex-sense-sensibility"><i class="fa fa-check"></i>Exercise @ref(bash-advanced-ex-sense-sensibility)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refbash-advanced-ex-match-subtract"><i class="fa fa-check"></i>Exercise @ref(bash-advanced-ex-match-subtract)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refbash-advanced-ex-reading-find"><i class="fa fa-check"></i>Exercise @ref(bash-advanced-ex-reading-find)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refbash-advanced-ex-find-tests"><i class="fa fa-check"></i>Exercise @ref(bash-advanced-ex-find-tests)</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#chapter-refscripting"><i class="fa fa-check"></i>Chapter @ref(scripting)</a><ul>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refscripting-ex-command-line"><i class="fa fa-check"></i>Exercise @ref(scripting-ex-command-line)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refscripting-ex-glob-ls"><i class="fa fa-check"></i>Exercise @ref(scripting-ex-glob-ls)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refscripting-ex-sentence-endings"><i class="fa fa-check"></i>Exercise @ref(scripting-ex-sentence-endings)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refscripting-ex-better-plotting"><i class="fa fa-check"></i>Exercise @ref(scripting-ex-better-plotting)</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#chapter-refgit-cmdline"><i class="fa fa-check"></i>Chapter @ref(git-cmdline)</a><ul>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refgit-cmdline-ex-places"><i class="fa fa-check"></i>Exercise @ref(git-cmdline-ex-places)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refgit-cmdline-ex-unsave"><i class="fa fa-check"></i>Exercise @ref(git-cmdline-ex-unsave)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refgit-cmdline-ex-word-diff"><i class="fa fa-check"></i>Exercise @ref(git-cmdline-ex-word-diff)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refgit-cmdline-ex-commit"><i class="fa fa-check"></i>Exercise @ref(git-cmdline-ex-commit)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refgit-cmdline-ex-bio"><i class="fa fa-check"></i>Exercise @ref(git-cmdline-ex-bio)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refgit-cmdline-ex-multiple"><i class="fa fa-check"></i>Exercise @ref(git-cmdline-ex-multiple)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refgit-cmdline-ex-timestamp"><i class="fa fa-check"></i>Exercise @ref(git-cmdline-ex-timestamp)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refgit-cmdline-ex-history"><i class="fa fa-check"></i>Exercise @ref(git-cmdline-ex-history)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refgit-cmdline-ex-ignore-nested"><i class="fa fa-check"></i>Exercise @ref(git-cmdline-ex-ignore-nested)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refgit-cmdline-ex-include"><i class="fa fa-check"></i>Exercise @ref(git-cmdline-ex-include)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refgit-cmdline-ex-github-interface"><i class="fa fa-check"></i>Exercise @ref(git-cmdline-ex-github-interface)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refgit-cmdline-ex-push-commit"><i class="fa fa-check"></i>Exercise @ref(git-cmdline-ex-push-commit)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refgit-cmdline-ex-boilerplate"><i class="fa fa-check"></i>Exercise @ref(git-cmdline-ex-boilerplate)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refgit-cmdline-ex-recover"><i class="fa fa-check"></i>Exercise @ref(git-cmdline-ex-recover)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refgit-cmdline-ex-diff"><i class="fa fa-check"></i>Exercise @ref(git-cmdline-ex-diff)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refgit-cmdline-ex-unstage"><i class="fa fa-check"></i>Exercise @ref(git-cmdline-ex-unstage)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refgit-cmdline-ex-blame"><i class="fa fa-check"></i>Exercise @ref(git-cmdline-ex-blame)</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#chapter-refgit-advanced"><i class="fa fa-check"></i>Chapter @ref(git-advanced)</a><ul>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refgit-advanced-ex-explain-options"><i class="fa fa-check"></i>Exercise @ref(git-advanced-ex-explain-options)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refgit-advanced-ex-modify-prompt"><i class="fa fa-check"></i>Exercise @ref(git-advanced-ex-modify-prompt)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refgit-advanced-ex-ignoring-files"><i class="fa fa-check"></i>Exercise @ref(git-advanced-ex-ignoring-files)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refgit-advanced-ex-create-twice"><i class="fa fa-check"></i>Exercise @ref(git-advanced-ex-create-twice)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refgit-advanced-ex-delete-unmerged"><i class="fa fa-check"></i>Exercise @ref(git-advanced-ex-delete-unmerged)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refgit-advanced-ex-trace-changes"><i class="fa fa-check"></i>Exercise @ref(git-advanced-ex-trace-changes)</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#chapter-refteams"><i class="fa fa-check"></i>Chapter @ref(teams)</a><ul>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refteams-ex-scavenger-hunt"><i class="fa fa-check"></i>Exercise @ref(teams-ex-scavenger-hunt)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refteams-ex-boilerplate-coc"><i class="fa fa-check"></i>Exercise @ref(teams-ex-boilerplate-coc)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refteams-ex-boilerplate-license"><i class="fa fa-check"></i>Exercise @ref(teams-ex-boilerplate-license)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refteams-ex-contributing"><i class="fa fa-check"></i>Exercise @ref(teams-ex-contributing)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refteams-ex-file-issue"><i class="fa fa-check"></i>Exercise @ref(teams-ex-file-issue)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refteams-ex-label"><i class="fa fa-check"></i>Exercise @ref(teams-ex-label)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refteams-ex-balancing"><i class="fa fa-check"></i>Exercise @ref(teams-ex-balancing)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refteams-ex-invisible"><i class="fa fa-check"></i>Exercise @ref(teams-ex-invisible)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refteams-ex-members"><i class="fa fa-check"></i>Exercise @ref(teams-ex-members)</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#chapter-refautomate"><i class="fa fa-check"></i>Chapter @ref(automate)</a><ul>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refautomate-ex-report-change"><i class="fa fa-check"></i>Exercise @ref(automate-ex-report-change)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refautomate-ex-useful-options"><i class="fa fa-check"></i>Exercise @ref(automate-ex-useful-options)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refautomate-ex-mkdir"><i class="fa fa-check"></i>Exercise @ref(automate-ex-mkdir)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refautomate-ex-print"><i class="fa fa-check"></i>Exercise @ref(automate-ex-print)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refautomate-ex-all-results"><i class="fa fa-check"></i>Exercise @ref(automate-ex-all-results)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refautomate-ex-wildcard-perils"><i class="fa fa-check"></i>Exercise @ref(automate-ex-wildcard-perils)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refautomate-ex-readable-docs"><i class="fa fa-check"></i>Exercise @ref(automate-ex-readable-docs)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refautomate-ex-configuration"><i class="fa fa-check"></i>Exercise @ref(automate-ex-configuration)</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#chapter-refconfig"><i class="fa fa-check"></i>Chapter @ref(config)</a><ul>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refconfig-ex-build-plotparams"><i class="fa fa-check"></i>Exercise @ref(config-ex-build-plotparams)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refconfig-ex-style"><i class="fa fa-check"></i>Exercise @ref(config-ex-style)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refconfig-ex-saveload"><i class="fa fa-check"></i>Exercise @ref(config-ex-saveload)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refconfig-ex-ini"><i class="fa fa-check"></i>Exercise @ref(config-ex-ini)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refconfig-ex-consistency"><i class="fa fa-check"></i>Exercise @ref(config-ex-consistency)</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#chapter-reftesting"><i class="fa fa-check"></i>Chapter @ref(testing)</a><ul>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-reftesting-ex-explain-assertions"><i class="fa fa-check"></i>Exercise @ref(testing-ex-explain-assertions)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-reftesting-ex-rectangles"><i class="fa fa-check"></i>Exercise @ref(testing-ex-rectangles)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-reftesting-ex-random"><i class="fa fa-check"></i>Exercise @ref(testing-ex-random)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-reftesting-ex-relative-error"><i class="fa fa-check"></i>Exercise @ref(testing-ex-relative-error)</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#chapter-referrors"><i class="fa fa-check"></i>Chapter @ref(errors)</a><ul>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-referrors-ex-set-level"><i class="fa fa-check"></i>Exercise @ref(errors-ex-set-level)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-referrors-ex-logging-output"><i class="fa fa-check"></i>Exercise @ref(errors-ex-logging-output)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-referrors-ex-exceptions"><i class="fa fa-check"></i>Exercise @ref(errors-ex-exceptions)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-referrors-ex-error-handling"><i class="fa fa-check"></i>Exercise @ref(errors-ex-error-handling)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-referrors-ex-catalog"><i class="fa fa-check"></i>Exercise @ref(errors-ex-catalog)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-referrors-ex-traceback"><i class="fa fa-check"></i>Exercise @ref(errors-ex-traceback)</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#chapter-refprovenance"><i class="fa fa-check"></i>Chapter @ref(provenance)</a><ul>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refprovenance-ex-get-orcid"><i class="fa fa-check"></i>Exercise @ref(provenance-ex-get-orcid)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refprovenance-ex-fair-test"><i class="fa fa-check"></i>Exercise @ref(provenance-ex-fair-test)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refprovenance-ex-understand-project"><i class="fa fa-check"></i>Exercise @ref(provenance-ex-understand-project)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refprovenance-ex-eval-code"><i class="fa fa-check"></i>Exercise @ref(provenance-ex-eval-code)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refprovenance-ex-permanent-links"><i class="fa fa-check"></i>Exercise @ref(provenance-ex-permanent-links)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refprovenance-ex-release"><i class="fa fa-check"></i>Exercise @ref(provenance-ex-release)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refprovenance-ex-publish-code"><i class="fa fa-check"></i>Exercise @ref(provenance-ex-publish-code)</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#chapter-refpackaging"><i class="fa fa-check"></i>Chapter @ref(packaging)</a><ul>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refpackaging-ex-metadata"><i class="fa fa-check"></i>Exercise @ref(packaging-ex-metadata)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refpackaging-ex-separating-requirements"><i class="fa fa-check"></i>Exercise @ref(packaging-ex-separating-requirements)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refpackaging-ex-software-review"><i class="fa fa-check"></i>Exercise @ref(packaging-ex-software-review)</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#exercise-refpackaging-ex-pratchett"><i class="fa fa-check"></i>Exercise @ref(packaging-ex-pratchett)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="B" data-path="objectives.html"><a href="objectives.html"><i class="fa fa-check"></i><b>B</b> Learning Objectives</a><ul>
<li class="chapter" data-level="B.1" data-path="objectives.html"><a href="objectives.html#getting-started-1"><i class="fa fa-check"></i><b>B.1</b> Getting Started</a></li>
<li class="chapter" data-level="B.2" data-path="objectives.html"><a href="objectives.html#the-basics-of-the-unix-shell"><i class="fa fa-check"></i><b>B.2</b> The Basics of the Unix Shell</a></li>
<li class="chapter" data-level="B.3" data-path="objectives.html"><a href="objectives.html#building-tools-with-the-unix-shell"><i class="fa fa-check"></i><b>B.3</b> Building Tools with the Unix Shell</a></li>
<li class="chapter" data-level="B.4" data-path="objectives.html"><a href="objectives.html#going-further-with-the-unix-shell"><i class="fa fa-check"></i><b>B.4</b> Going Further with the Unix Shell</a></li>
<li class="chapter" data-level="B.5" data-path="objectives.html"><a href="objectives.html#building-command-line-tools-with-python"><i class="fa fa-check"></i><b>B.5</b> Building Command-Line Tools with Python</a></li>
<li class="chapter" data-level="B.6" data-path="objectives.html"><a href="objectives.html#using-git-at-the-command-line"><i class="fa fa-check"></i><b>B.6</b> Using Git at the Command Line</a></li>
<li class="chapter" data-level="B.7" data-path="objectives.html"><a href="objectives.html#going-further-with-git"><i class="fa fa-check"></i><b>B.7</b> Going Further with Git</a></li>
<li class="chapter" data-level="B.8" data-path="objectives.html"><a href="objectives.html#working-in-teams"><i class="fa fa-check"></i><b>B.8</b> Working in Teams</a></li>
<li class="chapter" data-level="B.9" data-path="objectives.html"><a href="objectives.html#automating-analyses-with-make"><i class="fa fa-check"></i><b>B.9</b> Automating Analyses with Make</a></li>
<li class="chapter" data-level="B.10" data-path="objectives.html"><a href="objectives.html#configuring-programs"><i class="fa fa-check"></i><b>B.10</b> Configuring Programs</a></li>
<li class="chapter" data-level="B.11" data-path="objectives.html"><a href="objectives.html#testing-software"><i class="fa fa-check"></i><b>B.11</b> Testing Software</a></li>
<li class="chapter" data-level="B.12" data-path="objectives.html"><a href="objectives.html#handling-errors"><i class="fa fa-check"></i><b>B.12</b> Handling Errors</a></li>
<li class="chapter" data-level="B.13" data-path="objectives.html"><a href="objectives.html#tracking-provenance"><i class="fa fa-check"></i><b>B.13</b> Tracking Provenance</a></li>
<li class="chapter" data-level="B.14" data-path="objectives.html"><a href="objectives.html#creating-packages-with-python"><i class="fa fa-check"></i><b>B.14</b> Creating Packages with Python</a></li>
</ul></li>
<li class="chapter" data-level="C" data-path="keypoints.html"><a href="keypoints.html"><i class="fa fa-check"></i><b>C</b> Key Points</a><ul>
<li class="chapter" data-level="C.1" data-path="keypoints.html"><a href="keypoints.html#getting-started-2"><i class="fa fa-check"></i><b>C.1</b> Getting Started</a></li>
<li class="chapter" data-level="C.2" data-path="keypoints.html"><a href="keypoints.html#the-basics-of-the-unix-shell-1"><i class="fa fa-check"></i><b>C.2</b> The Basics of the Unix Shell</a></li>
<li class="chapter" data-level="C.3" data-path="keypoints.html"><a href="keypoints.html#building-tools-with-the-unix-shell-1"><i class="fa fa-check"></i><b>C.3</b> Building Tools with the Unix Shell</a></li>
<li class="chapter" data-level="C.4" data-path="keypoints.html"><a href="keypoints.html#going-further-with-the-unix-shell-1"><i class="fa fa-check"></i><b>C.4</b> Going Further with the Unix Shell</a></li>
<li class="chapter" data-level="C.5" data-path="keypoints.html"><a href="keypoints.html#building-command-line-programs-in-python"><i class="fa fa-check"></i><b>C.5</b> Building Command-Line Programs in Python</a></li>
<li class="chapter" data-level="C.6" data-path="keypoints.html"><a href="keypoints.html#using-git-at-the-command-line-1"><i class="fa fa-check"></i><b>C.6</b> Using Git at the Command Line</a></li>
<li class="chapter" data-level="C.7" data-path="keypoints.html"><a href="keypoints.html#going-further-with-git-1"><i class="fa fa-check"></i><b>C.7</b> Going Further with Git</a></li>
<li class="chapter" data-level="C.8" data-path="keypoints.html"><a href="keypoints.html#working-in-teams-1"><i class="fa fa-check"></i><b>C.8</b> Working in Teams</a></li>
<li class="chapter" data-level="C.9" data-path="keypoints.html"><a href="keypoints.html#automating-analyses-with-make-1"><i class="fa fa-check"></i><b>C.9</b> Automating Analyses with Make</a></li>
<li class="chapter" data-level="C.10" data-path="keypoints.html"><a href="keypoints.html#configuring-programs-1"><i class="fa fa-check"></i><b>C.10</b> Configuring Programs</a></li>
<li class="chapter" data-level="C.11" data-path="keypoints.html"><a href="keypoints.html#testing-software-1"><i class="fa fa-check"></i><b>C.11</b> Testing Software</a></li>
<li class="chapter" data-level="C.12" data-path="keypoints.html"><a href="keypoints.html#handling-errors-1"><i class="fa fa-check"></i><b>C.12</b> Handling Errors</a></li>
<li class="chapter" data-level="C.13" data-path="keypoints.html"><a href="keypoints.html#tracking-provenance-1"><i class="fa fa-check"></i><b>C.13</b> Tracking Provenance</a></li>
<li class="chapter" data-level="C.14" data-path="keypoints.html"><a href="keypoints.html#creating-packages-with-python-1"><i class="fa fa-check"></i><b>C.14</b> Creating Packages with Python</a></li>
</ul></li>
<li class="chapter" data-level="D" data-path="tree.html"><a href="tree.html"><i class="fa fa-check"></i><b>D</b> Project Tree</a></li>
<li class="chapter" data-level="E" data-path="ssh.html"><a href="ssh.html"><i class="fa fa-check"></i><b>E</b> Working Remotely</a><ul>
<li class="chapter" data-level="E.1" data-path="ssh.html"><a href="ssh.html#ssh-login"><i class="fa fa-check"></i><b>E.1</b> Logging In</a></li>
<li class="chapter" data-level="E.2" data-path="ssh.html"><a href="ssh.html#ssh-cp"><i class="fa fa-check"></i><b>E.2</b> Copying Files</a></li>
<li class="chapter" data-level="E.3" data-path="ssh.html"><a href="ssh.html#ssh-cmd"><i class="fa fa-check"></i><b>E.3</b> Running Commands</a></li>
<li class="chapter" data-level="E.4" data-path="ssh.html"><a href="ssh.html#ssh-keys"><i class="fa fa-check"></i><b>E.4</b> Creating Keys</a></li>
<li class="chapter" data-level="E.5" data-path="ssh.html"><a href="ssh.html#ssh-filedir"><i class="fa fa-check"></i><b>E.5</b> Dependencies</a></li>
</ul></li>
<li class="chapter" data-level="F" data-path="style.html"><a href="style.html"><i class="fa fa-check"></i><b>F</b> Writing Readable Code</a><ul>
<li class="chapter" data-level="F.1" data-path="style.html"><a href="style.html#style-pep8"><i class="fa fa-check"></i><b>F.1</b> Python Style</a><ul>
<li class="chapter" data-level="F.1.1" data-path="style.html"><a href="style.html#spacing"><i class="fa fa-check"></i><b>F.1.1</b> Spacing</a></li>
<li class="chapter" data-level="F.1.2" data-path="style.html"><a href="style.html#naming"><i class="fa fa-check"></i><b>F.1.2</b> Naming</a></li>
</ul></li>
<li class="chapter" data-level="F.2" data-path="style.html"><a href="style.html#style-order"><i class="fa fa-check"></i><b>F.2</b> Order</a></li>
<li class="chapter" data-level="F.3" data-path="style.html"><a href="style.html#style-check"><i class="fa fa-check"></i><b>F.3</b> Checking Style</a></li>
<li class="chapter" data-level="F.4" data-path="style.html"><a href="style.html#style-refactor"><i class="fa fa-check"></i><b>F.4</b> Refactoring</a><ul>
<li class="chapter" data-level="F.4.1" data-path="style.html"><a href="style.html#do-not-repeat-values"><i class="fa fa-check"></i><b>F.4.1</b> Do not repeat values</a></li>
<li class="chapter" data-level="F.4.2" data-path="style.html"><a href="style.html#do-not-repeat-calculations-in-loops"><i class="fa fa-check"></i><b>F.4.2</b> Do not repeat calculations in loops</a></li>
<li class="chapter" data-level="F.4.3" data-path="style.html"><a href="style.html#replace-tests-with-flags-to-clarify-repeated-tests"><i class="fa fa-check"></i><b>F.4.3</b> Replace tests with flags to clarify repeated tests</a></li>
<li class="chapter" data-level="F.4.4" data-path="style.html"><a href="style.html#use-in-place-operators-to-avoid-duplicating-expression"><i class="fa fa-check"></i><b>F.4.4</b> Use in-place operators to avoid duplicating expression</a></li>
<li class="chapter" data-level="F.4.5" data-path="style.html"><a href="style.html#handle-special-cases-first"><i class="fa fa-check"></i><b>F.4.5</b> Handle special cases first</a></li>
<li class="chapter" data-level="F.4.6" data-path="style.html"><a href="style.html#use-functions-to-make-code-more-comprehensible"><i class="fa fa-check"></i><b>F.4.6</b> Use functions to make code more comprehensible</a></li>
<li class="chapter" data-level="F.4.7" data-path="style.html"><a href="style.html#combine-operations-in-functions"><i class="fa fa-check"></i><b>F.4.7</b> Combine operations in functions</a></li>
<li class="chapter" data-level="F.4.8" data-path="style.html"><a href="style.html#replace-code-with-data"><i class="fa fa-check"></i><b>F.4.8</b> Replace code with data</a></li>
</ul></li>
<li class="chapter" data-level="F.5" data-path="style.html"><a href="style.html#style-review"><i class="fa fa-check"></i><b>F.5</b> Code Reviews</a></li>
<li class="chapter" data-level="F.6" data-path="style.html"><a href="style.html#style-features"><i class="fa fa-check"></i><b>F.6</b> Python Features</a><ul>
<li class="chapter" data-level="F.6.1" data-path="style.html"><a href="style.html#provide-default-values-for-parameters"><i class="fa fa-check"></i><b>F.6.1</b> Provide default values for parameters</a></li>
<li class="chapter" data-level="F.6.2" data-path="style.html"><a href="style.html#handle-a-variable-number-of-arguments"><i class="fa fa-check"></i><b>F.6.2</b> Handle a variable number of arguments</a></li>
<li class="chapter" data-level="F.6.3" data-path="style.html"><a href="style.html#unpacking-variable-arguments"><i class="fa fa-check"></i><b>F.6.3</b> Unpacking variable arguments</a></li>
<li class="chapter" data-level="F.6.4" data-path="style.html"><a href="style.html#use-destructuring-to-assign-multiple-values-at-once"><i class="fa fa-check"></i><b>F.6.4</b> Use destructuring to assign multiple values at once</a></li>
</ul></li>
<li class="chapter" data-level="F.7" data-path="style.html"><a href="style.html#style-summary"><i class="fa fa-check"></i><b>F.7</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="G" data-path="documentation.html"><a href="documentation.html"><i class="fa fa-check"></i><b>G</b> Documenting Programs</a><ul>
<li class="chapter" data-level="G.1" data-path="documentation.html"><a href="documentation.html#documentation-docstrings"><i class="fa fa-check"></i><b>G.1</b> Writing Good Docstrings</a></li>
<li class="chapter" data-level="G.2" data-path="documentation.html"><a href="documentation.html#documentation-audience"><i class="fa fa-check"></i><b>G.2</b> Defining Your Audience</a></li>
<li class="chapter" data-level="G.3" data-path="documentation.html"><a href="documentation.html#documentation-faq"><i class="fa fa-check"></i><b>G.3</b> Creating an FAQ</a></li>
</ul></li>
<li class="chapter" data-level="H" data-path="yaml.html"><a href="yaml.html"><i class="fa fa-check"></i><b>H</b> YAML</a></li>
<li class="chapter" data-level="I" data-path="anaconda.html"><a href="anaconda.html"><i class="fa fa-check"></i><b>I</b> Anaconda</a><ul>
<li class="chapter" data-level="I.1" data-path="anaconda.html"><a href="anaconda.html#anaconda-conda-package-management"><i class="fa fa-check"></i><b>I.1</b> Package Management with conda</a><ul>
<li class="chapter" data-level="I.1.1" data-path="anaconda.html"><a href="anaconda.html#anaconda-cloud"><i class="fa fa-check"></i><b>I.1.1</b> Anaconda Cloud</a></li>
<li class="chapter" data-level="I.1.2" data-path="anaconda.html"><a href="anaconda.html#conda-forge"><i class="fa fa-check"></i><b>I.1.2</b> conda-forge</a></li>
</ul></li>
<li class="chapter" data-level="I.2" data-path="anaconda.html"><a href="anaconda.html#anaconda-environments"><i class="fa fa-check"></i><b>I.2</b> Environment Management with conda</a></li>
</ul></li>
<li class="chapter" data-level="J" data-path="glossary.html"><a href="glossary.html"><i class="fa fa-check"></i><b>J</b> Glossary</a></li>
<li class="chapter" data-level="K" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>K</b> References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Research Software Engineering with Python</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="testing" class="section level1">
<h1><span class="header-section-number">Chapter 11</span> Testing Software</h1>
<blockquote>
<p>Opera happens because a large number of things amazingly fail to go wrong.</p>
<p>— Terry Pratchett</p>
</blockquote>
<p>We have written software to count and analyze the words in classic texts,
but how can we be sure it’s producing reliable results?
The short is answer is that we can’t—not completely—but
we can test its behavior against our expectations to decide if we are sure enough.
This chapter explores ways to do this,
including assertions, unit tests, integration tests, and regression tests.</p>
<blockquote>
<p><strong>A Scientist’s Nightmare</strong></p>
<p>Why is testing research software important?
A successful early career researcher in protein crystallography,
Geoffrey Chang,
had to retract five published papers—three from
the journal <em>Science</em>—because his code had
inadvertently flipped two columns of data <span class="citation">(Miller <a href="references.html#ref-Mill2006" role="doc-biblioref">2006</a>)</span>.
More recently, a simple calculation mistake in a paper by Reinhart and Rogoff
contributed to making the financial crash of 2008 even worse
for millions of people <span class="citation">(Borwein and Bailey <a href="references.html#ref-Borw2013" role="doc-biblioref">2013</a>)</span>.
Testing helps to catch errors like these.</p>
</blockquote>
<p>Here’s the current structure of our Zipf’s Law project files:</p>
<pre class="text"><code>zipf/
├── .gitignore
├── CONDUCT.md
├── CONTRIBUTING.md
├── LICENSE.md
├── Makefile
├── README.md
├── bin
│   ├── book_summary.sh
│   ├── collate.py
│   ├── countwords.py
│   ├── plotcounts.py
│   ├── plotparams.yml
│   ├── script_template.py
│   └── utilities.py
├── data
│   ├── README.md
│   ├── dracula.txt
│   └── ...
└── results
    ├── collated.csv
    ├── collated.png
    ├── dracula.csv
    ├── dracula.png
    └── ...</code></pre>
<div id="testing-assertions" class="section level2">
<h2><span class="header-section-number">11.1</span> Assertions</h2>
<p>The first step in building confidence in our programs
is to assume that mistakes will happen and guard against them.
This is called <a href="glossary.html#defensive_programming">defensive programming</a>,
and the most common way to do it is to add <a href="glossary.html#assertion">assertions</a> to our code
so that it checks itself as it runs.
An assertion is a statement that something must be true at a certain point in a program.
When Python sees an assertion, it checks the assertion’s condition.
If it’s true, Python does nothing;
if it’s false,
Python halts the program immediately and prints a user-defined error message.
For example,
this code halts as soon as the loop encounters an impossible word frequency:</p>
<div class="sourceCode" id="cb680"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb680-1"><a href="testing.html#cb680-1"></a>frequencies <span class="op">=</span> [<span class="dv">13</span>, <span class="dv">10</span>, <span class="dv">2</span>, <span class="dv">-4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">25</span>]</span>
<span id="cb680-2"><a href="testing.html#cb680-2"></a>total <span class="op">=</span> <span class="fl">0.0</span></span>
<span id="cb680-3"><a href="testing.html#cb680-3"></a><span class="cf">for</span> freq <span class="kw">in</span> frequencies[:<span class="dv">5</span>]:</span>
<span id="cb680-4"><a href="testing.html#cb680-4"></a>    <span class="cf">assert</span> freq <span class="op">&gt;=</span> <span class="fl">0.0</span>, <span class="st">&#39;Word frequencies must be non-negative&#39;</span></span>
<span id="cb680-5"><a href="testing.html#cb680-5"></a>    total <span class="op">+=</span> freq</span>
<span id="cb680-6"><a href="testing.html#cb680-6"></a><span class="bu">print</span>(<span class="st">&#39;total frequency of first 5 words:&#39;</span>, total)</span></code></pre></div>
<pre class="text"><code>---------------------------------------------------------------
AssertionError                Traceback (most recent call last)
&lt;ipython-input-19-33d87ea29ae4&gt; in &lt;module&gt;()
      2 total = 0.0
      3 for freq in frequencies[:5]:
----&gt; 4     assert freq &gt;= 0.0, &#39;Word frequencies must be
            non-negative&#39;
      5     total += freq
      6 print(&#39;total frequency of first 5 words:&#39;, total)

AssertionError: Word frequencies must be non-negative</code></pre>
<p>Programs intended for widespread use are full of assertions:
10%–20% of the code they contain are there to check that the other 80%–90% are working correctly.
Broadly speaking, assertions fall into three categories:</p>
<ul>
<li><p>A <a href="glossary.html#precondition">precondition</a>
is something that must be true at the start of a function
in order for it to work correctly.
For example,
a function might check that the list it has been given has at least two elements
and that all of its elements are integers.</p></li>
<li><p>A <a href="glossary.html#postcondition">postcondition</a>
is something that the function guarantees is true
when it finishes.
For example,
a function could check that the value being returned is an integer
that is greater than zero,
but less than the length of the input list.</p></li>
<li><p>An <a href="glossary.html#invariant">invariant</a>
is something that is true for every iteration in a loop.
The invariant might be a property of the data (as in the example above),
or it might be something like,
“the value of <code>highest</code> is less than or equal to the current loop index.”</p></li>
</ul>
<p>The function <code>get_power_law_params</code> in our <code>plotcounts.py</code> script
is a good example of the need for a precondition.
Its docstring does not say that its <code>word_counts</code> parameter must be a list of numeric word counts;
even if we add that,
a user might easily pass in a list of the words themselves instead.
Adding an assertion makes the requirement clearer,
and also guarantees that the function will fail as soon as it is called
rather than returning an error from <code>scipy.optimize.minimize_scalar</code>
that would be more difficult to interpret/debug.</p>
<div class="sourceCode" id="cb682"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb682-1"><a href="testing.html#cb682-1"></a><span class="kw">def</span> get_power_law_params(word_counts):</span>
<span id="cb682-2"><a href="testing.html#cb682-2"></a>    <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb682-3"><a href="testing.html#cb682-3"></a><span class="co">    Get the power law parameters.</span></span>
<span id="cb682-4"><a href="testing.html#cb682-4"></a></span>
<span id="cb682-5"><a href="testing.html#cb682-5"></a><span class="co">    References</span></span>
<span id="cb682-6"><a href="testing.html#cb682-6"></a><span class="co">    ----------</span></span>
<span id="cb682-7"><a href="testing.html#cb682-7"></a><span class="co">    Moreno-Sanchez et al (2016) define alpha (Eq. 1),</span></span>
<span id="cb682-8"><a href="testing.html#cb682-8"></a><span class="co">      beta (Eq. 2) and the maximum likelihood estimation (mle)</span></span>
<span id="cb682-9"><a href="testing.html#cb682-9"></a><span class="co">      of beta (Eq. 6).</span></span>
<span id="cb682-10"><a href="testing.html#cb682-10"></a></span>
<span id="cb682-11"><a href="testing.html#cb682-11"></a><span class="co">    Moreno-Sanchez I, Font-Clos F, Corral A (2016)</span></span>
<span id="cb682-12"><a href="testing.html#cb682-12"></a><span class="co">      Large-Scale Analysis of Zipf&#39;s Law in English Texts.</span></span>
<span id="cb682-13"><a href="testing.html#cb682-13"></a><span class="co">      PLoS ONE 11(1): e0147073.</span></span>
<span id="cb682-14"><a href="testing.html#cb682-14"></a><span class="co">      https://doi.org/10.1371/journal.pone.0147073</span></span>
<span id="cb682-15"><a href="testing.html#cb682-15"></a><span class="co">    &quot;&quot;&quot;</span></span>
<span id="cb682-16"><a href="testing.html#cb682-16"></a>    <span class="cf">assert</span> <span class="bu">type</span>(word_counts) <span class="op">==</span> np.ndarray, <span class="op">\</span></span>
<span id="cb682-17"><a href="testing.html#cb682-17"></a>        <span class="co">&#39;Input must be a numerical (numpy) array of word counts&#39;</span></span>
<span id="cb682-18"><a href="testing.html#cb682-18"></a>    mle <span class="op">=</span> minimize_scalar(nlog_likelihood,</span>
<span id="cb682-19"><a href="testing.html#cb682-19"></a>                          bracket<span class="op">=</span>(<span class="dv">1</span> <span class="op">+</span> <span class="fl">1e-10</span>, <span class="dv">4</span>),</span>
<span id="cb682-20"><a href="testing.html#cb682-20"></a>                          args<span class="op">=</span>word_counts,</span>
<span id="cb682-21"><a href="testing.html#cb682-21"></a>                          method<span class="op">=</span><span class="st">&#39;brent&#39;</span>)</span>
<span id="cb682-22"><a href="testing.html#cb682-22"></a>    beta <span class="op">=</span> mle.x</span>
<span id="cb682-23"><a href="testing.html#cb682-23"></a>    alpha <span class="op">=</span> <span class="dv">1</span> <span class="op">/</span> (beta <span class="op">-</span> <span class="dv">1</span>)</span>
<span id="cb682-24"><a href="testing.html#cb682-24"></a>    <span class="cf">return</span> alpha</span></code></pre></div>
<p>Update <code>plotcounts.py</code> with the assertion described above.
You’ll see additional examples of assertions throughout this chapter.</p>
</div>
<div id="testing-unit" class="section level2">
<h2><span class="header-section-number">11.2</span> Unit Testing</h2>
<p>Catching errors is good, but preventing them is better,
so responsible programmers test their code.
As the name suggests,
a <a href="glossary.html#unit_test">unit test</a>
checks the correctness of a single unit of software.
Exactly what constitutes a “unit” is subjective,
but it typically means the behavior of a single function in one situation.
In our Zipf’s Law software,
the <code>count_words</code> function in <code>countwords.py</code> is
a good candidate for unit testing:</p>
<div class="sourceCode" id="cb683"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb683-1"><a href="testing.html#cb683-1"></a><span class="kw">def</span> count_words(reader):</span>
<span id="cb683-2"><a href="testing.html#cb683-2"></a>    <span class="co">&quot;&quot;&quot;Count the occurrence of each word in a string.&quot;&quot;&quot;</span></span>
<span id="cb683-3"><a href="testing.html#cb683-3"></a>    text <span class="op">=</span> reader.read()</span>
<span id="cb683-4"><a href="testing.html#cb683-4"></a>    chunks <span class="op">=</span> text.split()</span>
<span id="cb683-5"><a href="testing.html#cb683-5"></a>    npunc <span class="op">=</span> [word.strip(string.punctuation) <span class="cf">for</span> word <span class="kw">in</span> chunks]</span>
<span id="cb683-6"><a href="testing.html#cb683-6"></a>    word_list <span class="op">=</span> [word.lower() <span class="cf">for</span> word <span class="kw">in</span> npunc <span class="cf">if</span> word]</span>
<span id="cb683-7"><a href="testing.html#cb683-7"></a>    word_counts <span class="op">=</span> Counter(word_list)</span>
<span id="cb683-8"><a href="testing.html#cb683-8"></a>    <span class="cf">return</span> word_counts</span></code></pre></div>
<p>A single unit test will typically have:</p>
<ul>
<li>a <a href="glossary.html#fixture">fixture</a>,
which is the thing being tested (e.g., an array of numbers);</li>
<li>an <a href="glossary.html#actual_result">actual result</a>,
which is what the code produces when given the fixture;
and</li>
<li>an <a href="glossary.html#expected_result">expected result</a>
that the actual result is compared to.</li>
</ul>
<p>The fixture is typically a subset or smaller version of the data
the function will typically process.
For instance,
in order to write a unit test for the <code>count_words</code> function,
we could use a piece of text small enough for us to count word frequencies by hand.
Let’s add the poem <em>Risk</em> by Anaïs Nin to our data:</p>
<div class="sourceCode" id="cb684"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb684-1"><a href="testing.html#cb684-1"></a>$ <span class="bu">cd</span> ~/zipf</span>
<span id="cb684-2"><a href="testing.html#cb684-2"></a>$ <span class="fu">mkdir</span> test_data</span>
<span id="cb684-3"><a href="testing.html#cb684-3"></a>$ <span class="fu">cat</span> test_data/risk.txt</span></code></pre></div>
<pre class="text"><code>And then the day came,
when the risk
to remain tight
in a bud
was more painful
than the risk
it took
to blossom.</code></pre>
<p>We can then count the words by hand to construct the expected result:</p>
<div class="sourceCode" id="cb686"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb686-1"><a href="testing.html#cb686-1"></a><span class="im">from</span> collections <span class="im">import</span> Counter</span>
<span id="cb686-2"><a href="testing.html#cb686-2"></a></span>
<span id="cb686-3"><a href="testing.html#cb686-3"></a></span>
<span id="cb686-4"><a href="testing.html#cb686-4"></a>risk_poem_counts <span class="op">=</span> {<span class="st">&#39;the&#39;</span>: <span class="dv">3</span>, <span class="st">&#39;risk&#39;</span>: <span class="dv">2</span>, <span class="st">&#39;to&#39;</span>: <span class="dv">2</span>, <span class="st">&#39;and&#39;</span>: <span class="dv">1</span>,</span>
<span id="cb686-5"><a href="testing.html#cb686-5"></a>  <span class="st">&#39;then&#39;</span>: <span class="dv">1</span>, <span class="st">&#39;day&#39;</span>: <span class="dv">1</span>, <span class="st">&#39;came&#39;</span>: <span class="dv">1</span>, <span class="st">&#39;when&#39;</span>: <span class="dv">1</span>, <span class="st">&#39;remain&#39;</span>: <span class="dv">1</span>,</span>
<span id="cb686-6"><a href="testing.html#cb686-6"></a>  <span class="st">&#39;tight&#39;</span>: <span class="dv">1</span>, <span class="st">&#39;in&#39;</span>: <span class="dv">1</span>, <span class="st">&#39;a&#39;</span>: <span class="dv">1</span>, <span class="st">&#39;bud&#39;</span>: <span class="dv">1</span>, <span class="st">&#39;was&#39;</span>: <span class="dv">1</span>,</span>
<span id="cb686-7"><a href="testing.html#cb686-7"></a>  <span class="st">&#39;more&#39;</span>: <span class="dv">1</span>, <span class="st">&#39;painful&#39;</span>: <span class="dv">1</span>, <span class="st">&#39;than&#39;</span>: <span class="dv">1</span>, <span class="st">&#39;it&#39;</span>: <span class="dv">1</span>, <span class="st">&#39;took&#39;</span>: <span class="dv">1</span>,</span>
<span id="cb686-8"><a href="testing.html#cb686-8"></a>  <span class="st">&#39;blossom&#39;</span>: <span class="dv">1</span>}</span>
<span id="cb686-9"><a href="testing.html#cb686-9"></a>expected_result <span class="op">=</span> Counter(risk_poem_counts)</span></code></pre></div>
<p>We then generate the actual result by calling <code>count_words</code>,
and use an assertion to check if it is what we expected:</p>
<div class="sourceCode" id="cb687"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb687-1"><a href="testing.html#cb687-1"></a><span class="im">import</span> sys</span>
<span id="cb687-2"><a href="testing.html#cb687-2"></a>sys.path.append(<span class="st">&#39;/Users/amira/zipf/bin&#39;</span>)</span>
<span id="cb687-3"><a href="testing.html#cb687-3"></a><span class="im">import</span> countwords</span>
<span id="cb687-4"><a href="testing.html#cb687-4"></a></span>
<span id="cb687-5"><a href="testing.html#cb687-5"></a></span>
<span id="cb687-6"><a href="testing.html#cb687-6"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">&#39;test_data/risk.txt&#39;</span>, <span class="st">&#39;r&#39;</span>) <span class="im">as</span> reader:</span>
<span id="cb687-7"><a href="testing.html#cb687-7"></a>    actual_result <span class="op">=</span> countwords.count_words(reader)</span>
<span id="cb687-8"><a href="testing.html#cb687-8"></a><span class="cf">assert</span> actual_result <span class="op">==</span> expected_result</span></code></pre></div>
<p>There’s no output,
which means the assertion (and test) passed.
(Remember, assertions only do something if the condition is false.)</p>
<blockquote>
<p><strong>Appending the Import Path</strong></p>
<p>The last code chunk included <code>sys.path.append</code>,
which allowed us to import scripts from elsewhere than
our current working directory.
This isn’t a perfect solution,
but works well enough for quick tests while developing code,
especially since the tool we’ll use for the
rest of the chapter handles this issue for us.
<a href="https://chrisyeh96.github.io/2017/08/08/definitive-guide-python-imports.html">Import statements</a> are notoriously tricky,
but we’ll learn better methods for organizing our code for
function imports in Chapter <a href="packaging.html#packaging">14</a>.</p>
</blockquote>
</div>
<div id="testing-framework" class="section level2">
<h2><span class="header-section-number">11.3</span> Testing Frameworks</h2>
<p>Writing one unit test is easy enough,
but we should check other cases as well.
To manage them,
we can use a <a href="glossary.html#test_framework">test framework</a>
(also called a <a href="glossary.html#test_runner">test runner</a>).
The most widely used test framework for Python is called <a href="https://pytest.org/"><code>pytest</code></a>,
which structures tests as follows:</p>
<ol style="list-style-type: decimal">
<li>Tests are put in files whose names begin with <code>test_</code>.</li>
<li>Each test is a function whose name also begins with <code>test_</code>.</li>
<li>These functions use <code>assert</code> to check results.</li>
</ol>
<p>Following these rules,
we can create a <code>test_zipfs.py</code> script in your <code>bin</code> directory
that contains the test we just developed:</p>
<div class="sourceCode" id="cb688"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb688-1"><a href="testing.html#cb688-1"></a><span class="im">from</span> collections <span class="im">import</span> Counter</span>
<span id="cb688-2"><a href="testing.html#cb688-2"></a></span>
<span id="cb688-3"><a href="testing.html#cb688-3"></a><span class="im">import</span> countwords</span>
<span id="cb688-4"><a href="testing.html#cb688-4"></a></span>
<span id="cb688-5"><a href="testing.html#cb688-5"></a></span>
<span id="cb688-6"><a href="testing.html#cb688-6"></a><span class="kw">def</span> test_word_count():</span>
<span id="cb688-7"><a href="testing.html#cb688-7"></a>    <span class="co">&quot;&quot;&quot;Test the counting of words.</span></span>
<span id="cb688-8"><a href="testing.html#cb688-8"></a></span>
<span id="cb688-9"><a href="testing.html#cb688-9"></a><span class="co">    The example poem is Risk, by Anaïs Nin.</span></span>
<span id="cb688-10"><a href="testing.html#cb688-10"></a><span class="co">    &quot;&quot;&quot;</span></span>
<span id="cb688-11"><a href="testing.html#cb688-11"></a>    risk_poem_counts <span class="op">=</span> {<span class="st">&#39;the&#39;</span>: <span class="dv">3</span>, <span class="st">&#39;risk&#39;</span>: <span class="dv">2</span>, <span class="st">&#39;to&#39;</span>: <span class="dv">2</span>, <span class="st">&#39;and&#39;</span>: <span class="dv">1</span>,</span>
<span id="cb688-12"><a href="testing.html#cb688-12"></a>      <span class="st">&#39;then&#39;</span>: <span class="dv">1</span>, <span class="st">&#39;day&#39;</span>: <span class="dv">1</span>, <span class="st">&#39;came&#39;</span>: <span class="dv">1</span>, <span class="st">&#39;when&#39;</span>: <span class="dv">1</span>, <span class="st">&#39;remain&#39;</span>: <span class="dv">1</span>,</span>
<span id="cb688-13"><a href="testing.html#cb688-13"></a>      <span class="st">&#39;tight&#39;</span>: <span class="dv">1</span>, <span class="st">&#39;in&#39;</span>: <span class="dv">1</span>, <span class="st">&#39;a&#39;</span>: <span class="dv">1</span>, <span class="st">&#39;bud&#39;</span>: <span class="dv">1</span>, <span class="st">&#39;was&#39;</span>: <span class="dv">1</span>,</span>
<span id="cb688-14"><a href="testing.html#cb688-14"></a>      <span class="st">&#39;more&#39;</span>: <span class="dv">1</span>, <span class="st">&#39;painful&#39;</span>: <span class="dv">1</span>, <span class="st">&#39;than&#39;</span>: <span class="dv">1</span>, <span class="st">&#39;it&#39;</span>: <span class="dv">1</span>, <span class="st">&#39;took&#39;</span>: <span class="dv">1</span>,</span>
<span id="cb688-15"><a href="testing.html#cb688-15"></a>      <span class="st">&#39;blossom&#39;</span>: <span class="dv">1</span>}</span>
<span id="cb688-16"><a href="testing.html#cb688-16"></a>    expected_result <span class="op">=</span> Counter(risk_poem_counts)</span>
<span id="cb688-17"><a href="testing.html#cb688-17"></a>    <span class="cf">with</span> <span class="bu">open</span>(<span class="st">&#39;test_data/risk.txt&#39;</span>, <span class="st">&#39;r&#39;</span>) <span class="im">as</span> reader:</span>
<span id="cb688-18"><a href="testing.html#cb688-18"></a>        actual_result <span class="op">=</span> countwords.count_words(reader)</span>
<span id="cb688-19"><a href="testing.html#cb688-19"></a>    <span class="cf">assert</span> actual_result <span class="op">==</span> expected_result</span></code></pre></div>
<p>The <code>pytest</code> library comes with a command-line tool that is also called <code>pytest</code>.
When we run it with no options,
it searches for all files in or below the working directory
whose names match the pattern <code>test_*.py</code>.
It then runs the tests in these files and summarizes their results.
(If we only want to run the tests in a particular file,
we can use the command <code>pytest path/to/test_file.py</code>.)</p>
<div class="sourceCode" id="cb689"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb689-1"><a href="testing.html#cb689-1"></a>$ <span class="ex">pytest</span></span></code></pre></div>
<pre class="text"><code>==================== test session starts ======================
platform darwin -- Python 3.7.6, pytest-6.2.0, py-1.10.0,
pluggy-0.13.1
rootdir: /Users/amira
collected 1 item

bin/test_zipfs.py .                                     [100%]

===================== 1 passed in 0.02s =======================</code></pre>
<p>To add more tests,
we simply write more <code>test_</code> functions in <code>test_zipfs.py</code>.
For instance,
besides counting words,
the other critical part of our code is the calculation of the <span class="math inline">\(\alpha\)</span> parameter.
Earlier we defined a power law relating <span class="math inline">\(\alpha\)</span>
to the word frequency <span class="math inline">\(f\)</span>,
the word rank <span class="math inline">\(r\)</span>,
and a constant of proportionality <span class="math inline">\(c\)</span> (Section <a href="git-advanced.html#git-advanced-theory">7.3</a>):<span class="math display">\[
r = cf^{\frac{-1}{\alpha}}
\]</span>
We also noted that Zipf’s Law holds exactly when <span class="math inline">\(\alpha\)</span> is equal to one.
Setting <span class="math inline">\(\alpha\)</span> to one and re-arranging the power law gives us:<span class="math display">\[
c = f/r
\]</span></p>
<p>We can use this formula to generate synthetic word count data
(i.e., our test fixture)
with a constant of proportionality set to a hypothetical maximum word frequency of 600
(and thus <span class="math inline">\(r\)</span> ranges from 1 to 600):</p>
<div class="sourceCode" id="cb691"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb691-1"><a href="testing.html#cb691-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb691-2"><a href="testing.html#cb691-2"></a></span>
<span id="cb691-3"><a href="testing.html#cb691-3"></a></span>
<span id="cb691-4"><a href="testing.html#cb691-4"></a>max_freq <span class="op">=</span> <span class="dv">600</span></span>
<span id="cb691-5"><a href="testing.html#cb691-5"></a>counts <span class="op">=</span> np.floor(max_freq <span class="op">/</span> np.arange(<span class="dv">1</span>, max_freq <span class="op">+</span> <span class="dv">1</span>))</span>
<span id="cb691-6"><a href="testing.html#cb691-6"></a><span class="bu">print</span>(counts)</span></code></pre></div>
<pre class="text"><code>[600. 300. 200. 150. 120. 100.  85.  75.  66.  60.  54.  50.
  46.  42.  40.  37.  35.  33.  31.  30.  28.  27.  26.  25.
 ...
   1.   1.   1.   1.   1.   1.   1.   1.   1.   1.   1.   1.]</code></pre>
<p>(We use <code>np.floor</code> to round down to the nearest whole number,
because we can’t have fractional word counts.)
Passing this test fixture to <code>get_power_law_params</code> in <code>plotcounts.py</code>
should give us a value of 1.0.
To test this, we can add a second test to <code>test_zipfs.py</code>:</p>
<div class="sourceCode" id="cb693"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb693-1"><a href="testing.html#cb693-1"></a><span class="im">from</span> collections <span class="im">import</span> Counter</span>
<span id="cb693-2"><a href="testing.html#cb693-2"></a></span>
<span id="cb693-3"><a href="testing.html#cb693-3"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb693-4"><a href="testing.html#cb693-4"></a></span>
<span id="cb693-5"><a href="testing.html#cb693-5"></a><span class="im">import</span> plotcounts</span>
<span id="cb693-6"><a href="testing.html#cb693-6"></a><span class="im">import</span> countwords</span>
<span id="cb693-7"><a href="testing.html#cb693-7"></a></span>
<span id="cb693-8"><a href="testing.html#cb693-8"></a></span>
<span id="cb693-9"><a href="testing.html#cb693-9"></a><span class="kw">def</span> test_alpha():</span>
<span id="cb693-10"><a href="testing.html#cb693-10"></a>    <span class="co">&quot;&quot;&quot;Test the calculation of the alpha parameter.</span></span>
<span id="cb693-11"><a href="testing.html#cb693-11"></a></span>
<span id="cb693-12"><a href="testing.html#cb693-12"></a><span class="co">    The test word counts satisfy the relationship,</span></span>
<span id="cb693-13"><a href="testing.html#cb693-13"></a><span class="co">      r = cf**(-1/alpha), where</span></span>
<span id="cb693-14"><a href="testing.html#cb693-14"></a><span class="co">      r is the rank,</span></span>
<span id="cb693-15"><a href="testing.html#cb693-15"></a><span class="co">      f the word count, and</span></span>
<span id="cb693-16"><a href="testing.html#cb693-16"></a><span class="co">      c is a constant of proportionality.</span></span>
<span id="cb693-17"><a href="testing.html#cb693-17"></a></span>
<span id="cb693-18"><a href="testing.html#cb693-18"></a><span class="co">    To generate test word counts for an expected alpha of</span></span>
<span id="cb693-19"><a href="testing.html#cb693-19"></a><span class="co">      1.0, a maximum word frequency of 600 is used</span></span>
<span id="cb693-20"><a href="testing.html#cb693-20"></a><span class="co">      (i.e. c = 600 and r ranges from 1 to 600)</span></span>
<span id="cb693-21"><a href="testing.html#cb693-21"></a><span class="co">    &quot;&quot;&quot;</span></span>
<span id="cb693-22"><a href="testing.html#cb693-22"></a>    max_freq <span class="op">=</span> <span class="dv">600</span></span>
<span id="cb693-23"><a href="testing.html#cb693-23"></a>    counts <span class="op">=</span> np.floor(max_freq <span class="op">/</span> np.arange(<span class="dv">1</span>, max_freq <span class="op">+</span> <span class="dv">1</span>))</span>
<span id="cb693-24"><a href="testing.html#cb693-24"></a>    actual_alpha <span class="op">=</span> plotcounts.get_power_law_params(counts)</span>
<span id="cb693-25"><a href="testing.html#cb693-25"></a>    expected_alpha <span class="op">=</span> <span class="fl">1.0</span></span>
<span id="cb693-26"><a href="testing.html#cb693-26"></a>    <span class="cf">assert</span> actual_alpha <span class="op">==</span> expected_alpha</span>
<span id="cb693-27"><a href="testing.html#cb693-27"></a></span>
<span id="cb693-28"><a href="testing.html#cb693-28"></a></span>
<span id="cb693-29"><a href="testing.html#cb693-29"></a><span class="kw">def</span> test_word_count():</span>
<span id="cb693-30"><a href="testing.html#cb693-30"></a>    <span class="co">#...as before...</span></span></code></pre></div>
<p>Let’s re-run both of our tests:</p>
<div class="sourceCode" id="cb694"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb694-1"><a href="testing.html#cb694-1"></a>$ <span class="ex">pytest</span></span></code></pre></div>
<pre class="text"><code>==================== test session starts ======================
platform darwin -- Python 3.7.6, pytest-6.2.1, py-1.10.0,
pluggy-0.13.1
rootdir: /Users/amira
collected 2 items

bin/test_zipfs.py F.                                    [100%]

========================== FAILURES ===========================
_________________________ test_alpha __________________________

  def test_alpha():
      &quot;&quot;&quot;Test the calculation of the alpha parameter.
    
      The test word counts satisfy the relationship,
        r = cf**(-1/alpha), where
        r is the rank,
        f the word count, and
        c is a constant of proportionality.
    
      To generate test word counts for an expected alpha of
        1.0, a maximum word frequency of 600 is used
        (i.e. c = 600 and r ranges from 1 to 600)
      &quot;&quot;&quot;
      max_freq = 600
      counts = np.floor(max_freq / np.arange(1, max_freq + 1))
      actual_alpha = plotcounts.get_power_law_params(counts)
      expected_alpha = 1.0
&gt;     assert actual_alpha == expected_alpha
E     assert 0.9951524579316625 == 1.0

bin/test_zipfs.py:26: AssertionError
=================== short test summary info ===================
FAILED bin/test_zipfs.py::test_alpha - assert 0.99515246 == 1.0
================= 1 failed, 1 passed in 3.98s =================
</code></pre>
<p>The output tells us that one test failed but the other test passed.
This is a very useful feature of test runners like <code>pytest</code>:
they continue on and complete all the tests
rather than stopping at the first assertion failure as a regular Python script would.</p>
</div>
<div id="testing-numeric" class="section level2">
<h2><span class="header-section-number">11.4</span> Testing Floating-Point Values</h2>
<p>The output above shows that while <code>test_alpha</code> failed,
the <code>actual_alpha</code> value of 0.9951524579316625 was very close to the expected value of 1.0.
After a bit of thought,
we decide that this isn’t actually a failure:
the value produced by <code>get_power_law_params</code> is an estimate,
and being off by half a percent is good enough.</p>
<p>This example shows that testing scientific software
almost always requires us to make the same kind of judgment calls
that scientists have to make when doing any other sort of experimental work.
If we are measuring the mass of a proton,
we might expect ten decimal places of accuracy.
If we are measuring the weight of a baby penguin,
on the other hand,
we’ll probably be satisfied if we’re within five grams.
What matters most is that we are explicit about the bounds we used
so that other people can tell what we actually did.</p>
<blockquote>
<p><strong>Degrees of Difficulty</strong></p>
<p>There’s an old joke that physicists worry about decimal places,
astronomers worry about powers of ten,
and economists are happy if they’ve got the sign right.</p>
</blockquote>
<p>So how should we write tests when we don’t know precisely what the right answer is?
The best approach is to write tests that check
if the actual value is within some <a href="glossary.html#tolerance">tolerance</a> of the expected value.
The tolerance can be expressed as the <a href="glossary.html#absolute_error">absolute error</a>,
which is the absolute value of the difference between two,
or the <a href="glossary.html#relative_error">relative error</a>,
which the ratio of the absolute error to the value we’re approximating <span class="citation">(Goldberg <a href="references.html#ref-Gold1991" role="doc-biblioref">1991</a>)</span>.
For example,
if we add 9+1 and get 11,
the absolute error is 1 (i.e., <span class="math inline">\(11-10\)</span>),
and the relative error is 10%.
If we add <span class="math inline">\(99+1\)</span> and get 101,
on the other hand,
the absolute error is still 1,
but the relative error is only 1%.</p>
<p>For <code>test_alpha</code>,
we might decide that an absolute error of 0.01 in the estimation of <span class="math inline">\(\alpha\)</span> is acceptable.
If we are using <code>pytest</code>,
we can check that values lie within this tolerance using <code>pytest.approx</code>:</p>
<div class="sourceCode" id="cb696"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb696-1"><a href="testing.html#cb696-1"></a><span class="im">from</span> collections <span class="im">import</span> Counter</span>
<span id="cb696-2"><a href="testing.html#cb696-2"></a></span>
<span id="cb696-3"><a href="testing.html#cb696-3"></a><span class="im">import</span> pytest</span>
<span id="cb696-4"><a href="testing.html#cb696-4"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb696-5"><a href="testing.html#cb696-5"></a></span>
<span id="cb696-6"><a href="testing.html#cb696-6"></a><span class="im">import</span> plotcounts</span>
<span id="cb696-7"><a href="testing.html#cb696-7"></a><span class="im">import</span> countwords</span>
<span id="cb696-8"><a href="testing.html#cb696-8"></a></span>
<span id="cb696-9"><a href="testing.html#cb696-9"></a></span>
<span id="cb696-10"><a href="testing.html#cb696-10"></a><span class="kw">def</span> test_alpha():</span>
<span id="cb696-11"><a href="testing.html#cb696-11"></a>    <span class="co">&quot;&quot;&quot;Test the calculation of the alpha parameter.</span></span>
<span id="cb696-12"><a href="testing.html#cb696-12"></a></span>
<span id="cb696-13"><a href="testing.html#cb696-13"></a><span class="co">    The test word counts satisfy the relationship,</span></span>
<span id="cb696-14"><a href="testing.html#cb696-14"></a><span class="co">      r = cf**(-1/alpha), where</span></span>
<span id="cb696-15"><a href="testing.html#cb696-15"></a><span class="co">      r is the rank,</span></span>
<span id="cb696-16"><a href="testing.html#cb696-16"></a><span class="co">      f the word count, and</span></span>
<span id="cb696-17"><a href="testing.html#cb696-17"></a><span class="co">      c is a constant of proportionality.</span></span>
<span id="cb696-18"><a href="testing.html#cb696-18"></a></span>
<span id="cb696-19"><a href="testing.html#cb696-19"></a><span class="co">    To generate test word counts for an expected alpha of</span></span>
<span id="cb696-20"><a href="testing.html#cb696-20"></a><span class="co">      1.0, a maximum word frequency of 600 is used</span></span>
<span id="cb696-21"><a href="testing.html#cb696-21"></a><span class="co">      (i.e. c = 600 and r ranges from 1 to 600)</span></span>
<span id="cb696-22"><a href="testing.html#cb696-22"></a><span class="co">    &quot;&quot;&quot;</span></span>
<span id="cb696-23"><a href="testing.html#cb696-23"></a>    max_freq <span class="op">=</span> <span class="dv">600</span></span>
<span id="cb696-24"><a href="testing.html#cb696-24"></a>    counts <span class="op">=</span> np.floor(max_freq <span class="op">/</span> np.arange(<span class="dv">1</span>, max_freq <span class="op">+</span> <span class="dv">1</span>))</span>
<span id="cb696-25"><a href="testing.html#cb696-25"></a>    actual_alpha <span class="op">=</span> plotcounts.get_power_law_params(counts)</span>
<span id="cb696-26"><a href="testing.html#cb696-26"></a>    expected_alpha <span class="op">=</span> pytest.approx(<span class="fl">1.0</span>, <span class="bu">abs</span><span class="op">=</span><span class="fl">0.01</span>)</span>
<span id="cb696-27"><a href="testing.html#cb696-27"></a>    <span class="cf">assert</span> actual_alpha <span class="op">==</span> expected_alpha</span>
<span id="cb696-28"><a href="testing.html#cb696-28"></a></span>
<span id="cb696-29"><a href="testing.html#cb696-29"></a></span>
<span id="cb696-30"><a href="testing.html#cb696-30"></a><span class="kw">def</span> test_word_count():</span>
<span id="cb696-31"><a href="testing.html#cb696-31"></a>    <span class="co">#...as before...</span></span></code></pre></div>
<p>When we re-run <code>pytest</code>,
both tests now pass:</p>
<div class="sourceCode" id="cb697"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb697-1"><a href="testing.html#cb697-1"></a>$ <span class="ex">pytest</span></span></code></pre></div>
<pre class="text"><code>==================== test session starts ======================
platform darwin -- Python 3.7.6, pytest-6.2.0, py-1.10.0,
pluggy-0.13.1
rootdir: /Users/amira
collected 2 items

bin/test_zipfs.py ..                                    [100%]

===================== 2 passed in 0.69s =======================</code></pre>
<blockquote>
<p><strong>Testing Visualizations</strong></p>
<p>Testing visualizations is hard:
any change to the dimension of the plot,
however small,
can change many pixels in a <a href="glossary.html#raster_image">raster image</a>,
and cosmetic changes such as moving the legend up a couple of pixels
will cause all of our tests to fail.</p>
<p>The simplest solution is therefore to test the data used to produce the image
rather than the image itself.
Unless we suspect that the plotting library contains bugs,
the correct data should always produce the correct plot.</p>
</blockquote>
</div>
<div id="testing-integration" class="section level2">
<h2><span class="header-section-number">11.5</span> Integration Testing</h2>
<p>Our Zipf’s Law analysis has two steps:
counting the words in a text
and estimating the <span class="math inline">\(\alpha\)</span> parameter from the word count.
Our unit tests give us some confidence that these components work in isolation,
but do they work correctly together?
Checking that is called <a href="glossary.html#integration_test">integration testing</a>.</p>
<p>Integration tests are structured the same way as unit tests:
a fixture is used to produce an actual result
that is compared against the expected result.
However,
creating the fixture and running the code
can be considerably more complicated.
For example,
in the case of our Zipf’s Law software, an appropriate integration test fixture
might be a text file with a word frequency distribution that has a known <span class="math inline">\(\alpha\)</span> value.
In order to create this text fixture,
we need a way to generate random words.</p>
<p>Fortunately, a Python library called
<a href="https://github.com/AbhishekSalian/Random-Word-Generator"><code>RandomWordGenerator</code></a>
exists to do just that.
We can install it using <a href="https://pypi.org/project/pip/"><code>pip</code></a>, the Python Package Installer:</p>
<div class="sourceCode" id="cb699"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb699-1"><a href="testing.html#cb699-1"></a>$ <span class="ex">pip</span> install Random-Word-Generator</span></code></pre></div>
<p>Borrowing from the word count distribution we created for <code>test_alpha</code>,
we can use the following code to create a text file full of random words
with a frequency distribution that corresponds to an <span class="math inline">\(\alpha\)</span> of approximately 1.0:</p>
<div class="sourceCode" id="cb700"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb700-1"><a href="testing.html#cb700-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb700-2"><a href="testing.html#cb700-2"></a><span class="im">from</span> RandomWordGenerator <span class="im">import</span> RandomWord</span>
<span id="cb700-3"><a href="testing.html#cb700-3"></a></span>
<span id="cb700-4"><a href="testing.html#cb700-4"></a></span>
<span id="cb700-5"><a href="testing.html#cb700-5"></a>max_freq <span class="op">=</span> <span class="dv">600</span></span>
<span id="cb700-6"><a href="testing.html#cb700-6"></a>word_counts <span class="op">=</span> np.floor(max_freq <span class="op">/</span> np.arange(<span class="dv">1</span>, max_freq <span class="op">+</span> <span class="dv">1</span>))</span>
<span id="cb700-7"><a href="testing.html#cb700-7"></a>rw <span class="op">=</span> RandomWord()</span>
<span id="cb700-8"><a href="testing.html#cb700-8"></a>random_words <span class="op">=</span> rw.getList(num_of_words<span class="op">=</span>max_freq)</span>
<span id="cb700-9"><a href="testing.html#cb700-9"></a>writer <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;test_data/random_words.txt&#39;</span>, <span class="st">&#39;w&#39;</span>)</span>
<span id="cb700-10"><a href="testing.html#cb700-10"></a><span class="cf">for</span> index <span class="kw">in</span> <span class="bu">range</span>(max_freq):</span>
<span id="cb700-11"><a href="testing.html#cb700-11"></a>    count <span class="op">=</span> <span class="bu">int</span>(word_counts[index])</span>
<span id="cb700-12"><a href="testing.html#cb700-12"></a>    word_sequence <span class="op">=</span> <span class="ss">f&#39;</span><span class="sc">{</span>random_words[index]<span class="sc">}</span><span class="ss"> &#39;</span> <span class="op">*</span> count</span>
<span id="cb700-13"><a href="testing.html#cb700-13"></a>    writer.write(word_sequence <span class="op">+</span> <span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>)</span>
<span id="cb700-14"><a href="testing.html#cb700-14"></a>writer.close()</span></code></pre></div>
<p>We can confirm this code worked by checking the resulting file:</p>
<div class="sourceCode" id="cb701"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb701-1"><a href="testing.html#cb701-1"></a><span class="fu">tail</span> -n 5 test_data/random_words.txt</span></code></pre></div>
<pre class="text"><code>lZnkzoBHRb 
djiroplqrJ 
HmAUGOncHg 
DGLpfTIitu 
KALSfPkrga</code></pre>
<p>We can then add this integration test to <code>test_zipfs.py</code>:</p>
<div class="sourceCode" id="cb703"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb703-1"><a href="testing.html#cb703-1"></a><span class="kw">def</span> test_integration():</span>
<span id="cb703-2"><a href="testing.html#cb703-2"></a>    <span class="co">&quot;&quot;&quot;Test the full word count to alpha parameter workflow.&quot;&quot;&quot;</span></span>
<span id="cb703-3"><a href="testing.html#cb703-3"></a>    <span class="cf">with</span> <span class="bu">open</span>(<span class="st">&#39;test_data/random_words.txt&#39;</span>, <span class="st">&#39;r&#39;</span>) <span class="im">as</span> reader:</span>
<span id="cb703-4"><a href="testing.html#cb703-4"></a>        word_counts_dict <span class="op">=</span> countwords.count_words(reader)</span>
<span id="cb703-5"><a href="testing.html#cb703-5"></a>    counts_array <span class="op">=</span> np.array(<span class="bu">list</span>(word_counts_dict.values()))</span>
<span id="cb703-6"><a href="testing.html#cb703-6"></a>    actual_alpha <span class="op">=</span> plotcounts.get_power_law_params(counts_array)</span>
<span id="cb703-7"><a href="testing.html#cb703-7"></a>    expected_alpha <span class="op">=</span> pytest.approx(<span class="fl">1.0</span>, <span class="bu">abs</span><span class="op">=</span><span class="fl">0.01</span>)</span>
<span id="cb703-8"><a href="testing.html#cb703-8"></a>    <span class="cf">assert</span> actual_alpha <span class="op">==</span> expected_alpha</span></code></pre></div>
<p>Finally,
we re-run <code>pytest</code> to check that the integration test passes:</p>
<div class="sourceCode" id="cb704"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb704-1"><a href="testing.html#cb704-1"></a>$ <span class="ex">pytest</span></span></code></pre></div>
<pre class="text"><code>===================== test session starts =====================
platform darwin -- Python 3.7.6, pytest-6.2.0, py-1.10.0,
pluggy-0.13.1
rootdir: /Users/amira
collected 3 items

bin/test_zipfs.py ...                                   [100%]

======================= 3 passed in 0.48s =====================</code></pre>
</div>
<div id="testing-regression" class="section level2">
<h2><span class="header-section-number">11.6</span> Regression Testing</h2>
<p>So far we have tested two simplified texts:
a short poem and a collection of random words with a known frequency distribution.
The next step is to test with real data,
i.e., an actual book.
The problem is,
we don’t know the expected result:
it’s not practical to count the words in <em>Dracula</em> by hand,
and even if we tried,
the odds are good that we’d make a mistake.</p>
<p>For this kind of situation we can use
<a href="glossary.html#regression_testing">regression testing</a>.
Rather than assuming that the test’s author knows what the expected result should be,
regression tests compare today’s answer with a previous one.
This doesn’t guarantee that the answer is right—if the original answer is wrong,
we could carry that mistake forward indefinitely—but
it does draw attention to any changes (or “regressions”).</p>
<p>In Section <a href="git-advanced.html#git-advanced-zipf-verify">7.4</a>
we calculated an <span class="math inline">\(\alpha\)</span> of 1.0866646252515038 for <em>Dracula</em>.
Let’s use that value to add a regression test to <code>test_zipfs.py</code>:</p>
<div class="sourceCode" id="cb706"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb706-1"><a href="testing.html#cb706-1"></a><span class="kw">def</span> test_regression():</span>
<span id="cb706-2"><a href="testing.html#cb706-2"></a>    <span class="co">&quot;&quot;&quot;Regression test for Dracula.&quot;&quot;&quot;</span></span>
<span id="cb706-3"><a href="testing.html#cb706-3"></a>    <span class="cf">with</span> <span class="bu">open</span>(<span class="st">&#39;data/dracula.txt&#39;</span>, <span class="st">&#39;r&#39;</span>) <span class="im">as</span> reader:</span>
<span id="cb706-4"><a href="testing.html#cb706-4"></a>        word_counts_dict <span class="op">=</span> countwords.count_words(reader)</span>
<span id="cb706-5"><a href="testing.html#cb706-5"></a>    counts_array <span class="op">=</span> np.array(<span class="bu">list</span>(word_counts_dict.values()))</span>
<span id="cb706-6"><a href="testing.html#cb706-6"></a>    actual_alpha <span class="op">=</span> plotcounts.get_power_law_params(counts_array)</span>
<span id="cb706-7"><a href="testing.html#cb706-7"></a>    expected_alpha <span class="op">=</span> pytest.approx(<span class="fl">1.087</span>, <span class="bu">abs</span><span class="op">=</span><span class="fl">0.001</span>)</span>
<span id="cb706-8"><a href="testing.html#cb706-8"></a>    <span class="cf">assert</span> actual_alpha <span class="op">==</span> expected_alpha</span></code></pre></div>
<div class="sourceCode" id="cb707"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb707-1"><a href="testing.html#cb707-1"></a>$ <span class="ex">pytest</span></span></code></pre></div>
<pre class="text"><code>===================== test session starts =====================
platform darwin -- Python 3.7.6, pytest-6.2.0, py-1.10.0,
pluggy-0.13.1
rootdir: /Users/amira
collected 4 items

bin/test_zipfs.py ....                                  [100%]

====================== 4 passed in 0.56s ======================</code></pre>
</div>
<div id="testing-coverage" class="section level2">
<h2><span class="header-section-number">11.7</span> Test Coverage</h2>
<p>How much of our code do the tests we have written check?
More importantly,
what parts of our code  being tested (yet)?
To find out,
we can use a tool to check their <a href="glossary.html#code_coverage">code coverage</a>.
Most Python programmers use the <code>coverage</code> library,
which we can once again install using <code>pip</code>:</p>
<div class="sourceCode" id="cb709"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb709-1"><a href="testing.html#cb709-1"></a>$ <span class="ex">pip</span> install coverage</span></code></pre></div>
<p>Once we have it,
we can use it to run <code>pytest</code> on our behalf:</p>
<div class="sourceCode" id="cb710"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb710-1"><a href="testing.html#cb710-1"></a>$ <span class="ex">coverage</span> run -m pytest</span></code></pre></div>
<pre class="text"><code>===================== test session starts =====================
platform darwin -- Python 3.7.6, pytest-6.2.0, py-1.10.0,
pluggy-0.13.1
rootdir: /Users/amira
collected 4 items

bin/test_zipfs.py ....                                  [100%]

====================== 4 passed in 0.72s ======================</code></pre>
<p>The <code>coverage</code> command doesn’t display any information of its own,
since mixing that in with our program’s output would be confusing.
Instead,
it puts coverage data in a file called <code>.coverage</code> (with a leading <code>.</code>) in the current directory.
To display that data,
we run:</p>
<div class="sourceCode" id="cb712"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb712-1"><a href="testing.html#cb712-1"></a>$ <span class="ex">coverage</span> report -m</span></code></pre></div>
<pre class="text"><code>bin/countwords.py      20      7    65%   25-26, 30-38
bin/plotcounts.py      58     37    36%   48-55, 75-77, 82-83, 
                                          88-118, 122-140
bin/test_zipfs.py      31      0   100%
bin/utilities.py        8      5    38%   18-22
-------------------------------------------------
TOTAL                 117     49    58%</code></pre>
<p>This summary shows us that
some lines of <code>countwords.py</code> or <code>plotcounts.py</code>
were not executed when we ran the tests:
in fact,
only 65% and 36% of the lines were run respectively.
This makes sense,
since much of the code in those scripts
is devoted to handling command-line arguments or file I/O
rather than the word counting and parameter estimation functionality
that our unit, integration, and regression tests focus on.</p>
<p>To make sure that’s the case,
we can get a more complete report by running <code>coverage html</code> at the command line
and opening <code>htmlcov/index.html</code>.
Clicking on the name of our <code>countwords.py</code> script, for instance,
produces the colorized line-by-line display shown in Figure <a href="testing.html#fig:python-coverage">11.1</a>.</p>
<div class="figure" style="text-align: center"><span id="fig:python-coverage"></span>
<img src="figures/testing/python-coverage.png" alt="Example of Python code coverage report." width="100%" />
<p class="caption">
Figure 11.1: Example of Python code coverage report.
</p>
</div>
<p>This output confirms that all lines relating to word counting were tested,
but not any of the lines related to argument handling or I/O.</p>
<blockquote>
<p><strong>Commit our Coverage?</strong></p>
<p>At this point,
you’re probably wondering if you should use version control
to track the files reporting your code’s coverage.
While it won’t necessarily harm your code,
the reports will become inaccurate
unless you continue updating your coverage reports
as your code changes.
Therefore, we recommend adding <code>.coverage</code> and <code>htmlcov/</code>
to your <a href="https://github.com/github/gitignore"><code>.gitignore</code> file</a>.
In the next section,
we’ll explore an approach that can help you automate tasks
like assessing coverage.</p>
</blockquote>
<p>Is this good enough?
The answer depends on what the software is being used for and by whom.
If it is for a safety-critical application such as a medical device,
we should aim for 100% code coverage,
i.e.,
every single line in the application should be tested.
In fact,
we should probably go further and aim for 100% <a href="glossary.html#path_coverage">path coverage</a>
to ensure that every possible path through the code has been checked.
Similarly,
if the software has become popular and is being used by thousands of researchers all over the world,
we should probably check that it’s not going to embarrass us.</p>
<p>But most of us don’t write software that people’s lives depend on,
or that is in a “top 100” list,
so requiring 100% code coverage is like asking for ten decimal places of accuracy
when checking the voltage of a household electrical outlet.
We always need to balance the effort required to create tests
against the likelihood that those tests will uncover useful information.
We also have to accept that no amount of testing
can prove a piece of software is completely correct.
A function with only two numeric arguments has 2<sup>128</sup> possible inputs.
Even if we could write the tests,
how could we be sure we were checking the result of each one correctly?</p>
<p>Luckily,
we can usually put test cases into groups.
For example,
when testing a function that summarizes a table full of data,
it’s probably enough to check that it handles tables with:</p>
<ul>
<li>no rows</li>
<li>only one row</li>
<li>many identical rows</li>
<li>rows having keys that are supposed to be unique, but aren’t</li>
<li>rows that contain nothing but missing values</li>
</ul>
<p>Some projects develop <a href="glossary.html#checklist">checklists</a> like this one
to remind programmers what they ought to test.
These checklists can be a bit daunting for newcomers,
but they are a great way to pass on hard-earned experience.</p>
</div>
<div id="testing-ci" class="section level2">
<h2><span class="header-section-number">11.8</span> Continuous Integration</h2>
<p>Now that we have a set of tests,
we could run <code>pytest</code> every now and again to check our code.
This is probably sufficient for short-lived projects,
but if several people are involved,
or if we are making changes over weeks or months,
we might forget to run the tests
or it might be difficult to identify which change is responsible for a test failure.</p>
<p>The solution is <a href="glossary.html#continuous_integration">continuous integration</a> (CI),
which runs tests automatically whenever a change is made.
CI tells developers immediately if changes have caused problems,
which makes them much easier to fix.
CI can also be set up to run tests with several different configurations of the software
or on several different operating systems,
so that a programmer using Windows
can be warned that a change breaks things for Mac users and vice versa.</p>
<p>One popular CI tool is <a href="https://travis-ci.com/">Travis CI</a>,
which integrates well with
<a href="https://github.com">GitHub</a>.
If Travis CI has been set up,
then every time a change is committed to a GitHub repository,
Travis CI creates a fresh environment,
makes a fresh clone of the repository (Section <a href="git-advanced.html#git-advanced-fork">7.8</a>),
and runs whatever commands the project’s managers have set up.</p>
<p>Before setting up our account with Travis CI, however,
we need to prepare our repository to be recognized by the tool.
We’ll first add a file called <code>.travis.yml</code> to our repository,
which includes instructions for Travis CI.
(The leading <code>.</code> in the name hides the file from casual listings on Mac or Linux,
but not on Windows.)
This file must be in the root directory of the repository,
and is written in <a href="glossary.html#yaml_glossary">YAML</a>
(Section <a href="config.html#config-formats">10.1</a> and Appendix <a href="yaml.html#yaml">H</a>).
For our project,
we add the following lines:</p>
<div class="sourceCode" id="cb714"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb714-1"><a href="testing.html#cb714-1"></a><span class="fu">language</span><span class="kw">:</span><span class="at"> python</span></span>
<span id="cb714-2"><a href="testing.html#cb714-2"></a></span>
<span id="cb714-3"><a href="testing.html#cb714-3"></a><span class="fu">python</span><span class="kw">:</span></span>
<span id="cb714-4"><a href="testing.html#cb714-4"></a><span class="kw">-</span><span class="at"> </span><span class="st">&quot;3.6&quot;</span></span>
<span id="cb714-5"><a href="testing.html#cb714-5"></a></span>
<span id="cb714-6"><a href="testing.html#cb714-6"></a><span class="fu">install</span><span class="kw">:</span></span>
<span id="cb714-7"><a href="testing.html#cb714-7"></a><span class="kw">-</span><span class="at"> pip install -r requirements.txt</span></span>
<span id="cb714-8"><a href="testing.html#cb714-8"></a></span>
<span id="cb714-9"><a href="testing.html#cb714-9"></a><span class="fu">script</span><span class="kw">:</span></span>
<span id="cb714-10"><a href="testing.html#cb714-10"></a><span class="kw">-</span><span class="at"> pytest</span></span></code></pre></div>
<blockquote>
<p><strong>Python 3.6?</strong></p>
<p>An early draft of the book used Python 3.6,
and we later updated to 3.7.
Over the life of a real project,
software versions change,
and it’s not always feasible or possible to re-do all parts of the project.
In this case,
our first build in Travis CI used Python 3.6,
so that’s what we’ve shown here,
and later checked that updating to 3.7 didn’t break anything.
We can’t expect our software will be perfect the first time around,
but we can do our best to document what’s changed and confirm
our results are still accurate.</p>
</blockquote>
<p>The <code>language</code> key tells Travis CI which programming language to use,
so that it knows which of its standard <a href="glossary.html#virtual_machine">virtual machines</a> to use
as a starting point for the project.
The <code>python</code> key specifies the version or versions of Python to use,
while the <code>install</code> key indicates the name of the file (<code>requirements.txt</code>)
listing the libraries that need to be installed.
The <code>script</code> key lists the commands to run—in this case, <code>pytest</code>—which
in turn executes our project scripts
(i.e., <code>test_zipfs.py</code>, <code>plotcounts.py</code>, <code>countwords.py</code> and <code>utilities.py</code>).
These scripts import a number of packages that don’t come with the
<a href="https://docs.python.org/3/library/">Python Standard Library</a>,
so these are what comprise <code>requirements.txt</code>:</p>
<pre class="text"><code>numpy
pandas
matplotlib
scipy
pytest
pyyaml</code></pre>
<p>Be sure to save both <code>requirements.txt</code> and <code>.travis.yml</code>
to your project’s root directory,
commit to your repository,
and push to GitHub,
or Travis CI will not be able to recognize your project.</p>
<p>We’re now ready to set up CI for our project.
The basic steps are as follows:</p>
<ol style="list-style-type: decimal">
<li>Create an account on <a href="https://travis-ci.com/">Travis CI</a> (if we don’t already have one).</li>
<li>Link our Travis CI account to our GitHub account (if we haven’t done so already).</li>
<li>Tell Travis CI to watch the repository that contains our project.</li>
</ol>
<p>Creating an account with an online service is probably a familiar process,
but linking our Travis CI account to our GitHub account may be something new.
We only have to do this once
to allow Travis CI to access all our GitHub repositories,
but we should always be careful when giving sites access to other sites,
and only trust well-established and widely used services.</p>
<p>We can tell Travis CI which repository we want it to watch
by clicking the “+” next to the “My Repositories” link
on the left-hand side of the Travis CI homepage (Figure <a href="testing.html#fig:testing-add-repo">11.2</a>).</p>
<div class="figure" style="text-align: center"><span id="fig:testing-add-repo"></span>
<img src="figures/testing/travis-add-repo.png" alt="Click to add a new GitHub repository to Travis CI." width="70%" />
<p class="caption">
Figure 11.2: Click to add a new GitHub repository to Travis CI.
</p>
</div>
<p>To add the GitHub repository we have been using throughout this book,
find it in the repository list
(Figure <a href="testing.html#fig:testing-list-repos">11.3</a>).
If the repository doesn’t show up,
re-synchronize the list using the green “Sync account” button on the left sidebar.
If it still doesn’t appear,
the repository may belong to someone else or be private,
or your required files may be incorrect.
Click the “Trigger a build” button to initiate your first test using Travis CI.</p>
<div class="figure" style="text-align: center"><span id="fig:testing-list-repos"></span>
<img src="figures/testing/travis-list-repos.png" alt="Find Zipf's Law repository and trigger a build." width="100%" />
<p class="caption">
Figure 11.3: Find Zipf’s Law repository and trigger a build.
</p>
</div>
<p>Once your repository has been activated,
Travis CI follows the instructions in <code>.travis.yml</code>
and reports whether the build passed (shown in green)
or produced warnings or errors (shown in red).
To create this report, Travis CI has done the following:</p>
<ol style="list-style-type: decimal">
<li>Created a new Linux virtual machine.</li>
<li>Installed the desired version of Python.</li>
<li>Run the commands below the <code>script</code> key.</li>
<li>Reported the results at <code>https://travis-ci.com/USER/REPO</code>,
where <code>USER/REPO</code>
identifies the repository for a given user.</li>
</ol>
<p>Our tests pass and the build completes successfully.
We can view additional details about the test by clicking on the
repository name
(Figure <a href="testing.html#fig:testing-build-pass">11.4</a>).</p>
<div class="figure" style="text-align: center"><span id="fig:testing-build-pass"></span>
<img src="figures/testing/travis-build-pass.png" alt="Travis build overview (build succeeded)." width="100%" />
<p class="caption">
Figure 11.4: Travis build overview (build succeeded).
</p>
</div>
<p>This example shows one of the other benefits of CI:
it forces us to be explicit about what we are doing and how we do it,
just as writing a Makefile forces us to be explicit about exactly how we produce results <span class="citation">(Zampetti et al. <a href="references.html#ref-Zamp2020" role="doc-biblioref">2020</a>)</span>.</p>
</div>
<div id="testing-tdd" class="section level2">
<h2><span class="header-section-number">11.9</span> When to Write Tests</h2>
<p>We have now met the three major types of test: unit, integration, and regression.
At what point in the code development process should we write these?
The answer depends on who you ask.</p>
<p>Many programmers are passionate advocates of a practice called
<a href="glossary.html#tdd">test-driven development</a>
(TDD).
Rather than writing code and then writing tests,
they write the tests first and then write just enough code to make those tests pass.
Once the code is working,
they clean it up (Appendix <a href="style.html#style-refactor">F.4</a>) and then move on to the next task.
TDD’s advocates claim that this leads to better code because:</p>
<ol style="list-style-type: decimal">
<li><p>Writing tests clarifies what the code is actually supposed to do.</p></li>
<li><p>It eliminates <a href="glossary.html#confirmation_bias">confirmation bias</a>.
If someone has just written a function,
they are predisposed to want it to be right,
so they will bias their tests towards proving that it is correct
instead of trying to uncover errors.</p></li>
<li><p>Writing tests first ensures that they actually get written.</p></li>
</ol>
<p>These arguments are plausible.
However,
studies such as <span class="citation">Fucci et al. (<a href="references.html#ref-Fucc2016" role="doc-biblioref">2016</a>)</span> and <span class="citation">Fucci et al. (<a href="references.html#ref-Fucc2017" role="doc-biblioref">2017</a>)</span> don’t support them:
in practice,
writing tests first or last doesn’t appear to affect productivity.
What <em>does</em> have an impact is working in small, interleaved increments,
i.e.,
writing just a few lines of code and testing it before moving on
rather than writing several pages of code and then spending hours on testing.</p>
<p>So how do most data scientists figure out if their software is doing the right thing?
The answer is spot checks:
each time they produce an intermediate or final result,
they scan a table, create a chart, or inspect some summary statistics
to see if everything looks OK.
Their heuristics are usually easy to state,
like “there shouldn’t be NAs at this point” or “the age range should be reasonable,”
but applying those heuristics to a particular analysis always depends on
their evolving insight into the data in question.</p>
<p>By analogy with test-driven development,
we could call this process “checking-driven development.”
Each time we add a step to our pipeline and look at its output,
we can also add a check of some kind to the pipeline to ensure that
what we are checking for remains true as the pipeline evolves or is run on other data.
Doing this helps reusability—it’s amazing how often a one-off analysis
winds up being used many times—but the real goal is comprehensibility.
If someone can get our code and data,
then runs the code on the data,
and gets the same result that we did,
then our computation is reproducible,
but that doesn’t mean they can understand it.
Comments help
(either in the code or as blocks of prose in a <a href="glossary.html#computational_notebook">computational notebook</a>),
but they won’t check that assumptions and invariants hold.
And unlike comments,
runnable assertions can’t fall out of step with what the code is actually doing.</p>
</div>
<div id="testing-summary" class="section level2">
<h2><span class="header-section-number">11.10</span> Summary</h2>
<p>Testing data analysis pipelines is often harder than testing mainstream software applications,
since data analysts often don’t know what the right answer is <span class="citation">(Braiek and Khomh <a href="references.html#ref-Brai2018" role="doc-biblioref">2018</a>)</span>.
(If we did,
we would have submitted our report and moved on to the next problem already.)
The key distinction is the difference between <a href="glossary.html#validation">validation</a>,
which asks whether the specification is correct,
and <a href="glossary.html#verification">verification</a>,
which asks whether we have met that specification.
The difference between them is the difference between
building the right thing and building something right;
the practices introduced in this chapter will help with both.</p>
</div>
<div id="testing-exercises" class="section level2">
<h2><span class="header-section-number">11.11</span> Exercises</h2>
<div id="testing-ex-explain-assertions" class="section level3">
<h3><span class="header-section-number">11.11.1</span> Explaining assertions</h3>
<p>Given a list of numbers,
the function <code>total</code> returns the total:</p>
<div class="sourceCode" id="cb716"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb716-1"><a href="testing.html#cb716-1"></a>total([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>])</span></code></pre></div>
<pre class="text"><code>10</code></pre>
<p>The function only works on numbers:</p>
<div class="sourceCode" id="cb718"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb718-1"><a href="testing.html#cb718-1"></a>total([<span class="st">&#39;a&#39;</span>, <span class="st">&#39;b&#39;</span>, <span class="st">&#39;c&#39;</span>])</span></code></pre></div>
<pre class="text"><code>ValueError: invalid literal for int() with base 10: &#39;a&#39;</code></pre>
<p>Explain in words what the assertions in this function check,
and for each one,
give an example of input that will make that assertion fail.</p>
<div class="sourceCode" id="cb720"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb720-1"><a href="testing.html#cb720-1"></a><span class="kw">def</span> total(values):</span>
<span id="cb720-2"><a href="testing.html#cb720-2"></a>    <span class="cf">assert</span> <span class="bu">len</span>(values) <span class="op">&gt;</span> <span class="dv">0</span></span>
<span id="cb720-3"><a href="testing.html#cb720-3"></a>    <span class="cf">for</span> element <span class="kw">in</span> values:</span>
<span id="cb720-4"><a href="testing.html#cb720-4"></a>        <span class="cf">assert</span> <span class="bu">int</span>(element)</span>
<span id="cb720-5"><a href="testing.html#cb720-5"></a>    values <span class="op">=</span> [<span class="bu">int</span>(element) <span class="cf">for</span> element <span class="kw">in</span> values]</span>
<span id="cb720-6"><a href="testing.html#cb720-6"></a>    total <span class="op">=</span> <span class="bu">sum</span>(values)</span>
<span id="cb720-7"><a href="testing.html#cb720-7"></a>    <span class="cf">assert</span> total <span class="op">&gt;</span> <span class="dv">0</span></span>
<span id="cb720-8"><a href="testing.html#cb720-8"></a>    <span class="cf">return</span> total</span></code></pre></div>
</div>
<div id="testing-ex-rectangles" class="section level3">
<h3><span class="header-section-number">11.11.2</span> Rectangle normalization</h3>
<p>A rectangle can be described using a tuple of four cartesian coordinates <code>(x0, y0, x1, y1)</code>,
where <code>(x0, y0)</code> represents the lower left corner and <code>(x1, y1)</code> the upper right.
In order to do some calculations,
suppose we need to be able to normalize rectangles so that the lower left corner
is at the origin (i.e., <code>(x0, y0) = (0, 0)</code>) and the longest side is 1.0 units long.
This function does that:</p>
<div class="sourceCode" id="cb721"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb721-1"><a href="testing.html#cb721-1"></a><span class="kw">def</span> normalize_rectangle(rect):</span>
<span id="cb721-2"><a href="testing.html#cb721-2"></a>    <span class="co">&quot;&quot;&quot;Normalizes a rectangle so that it is at the origin</span></span>
<span id="cb721-3"><a href="testing.html#cb721-3"></a><span class="co">    and 1.0 units long on its longest axis.</span></span>
<span id="cb721-4"><a href="testing.html#cb721-4"></a><span class="co">    Input should be of the format (x0, y0, x1, y1).</span></span>
<span id="cb721-5"><a href="testing.html#cb721-5"></a><span class="co">    (x0, y0) and (x1, y1) define the lower left and</span></span>
<span id="cb721-6"><a href="testing.html#cb721-6"></a><span class="co">    upper right corners of the rectangle, respectively.&quot;&quot;&quot;</span></span>
<span id="cb721-7"><a href="testing.html#cb721-7"></a></span>
<span id="cb721-8"><a href="testing.html#cb721-8"></a>    <span class="co"># insert preconditions</span></span>
<span id="cb721-9"><a href="testing.html#cb721-9"></a>    x0, y0, x1, y1 <span class="op">=</span> rect</span>
<span id="cb721-10"><a href="testing.html#cb721-10"></a>    <span class="co"># insert preconditions</span></span>
<span id="cb721-11"><a href="testing.html#cb721-11"></a></span>
<span id="cb721-12"><a href="testing.html#cb721-12"></a>    dx <span class="op">=</span> x1 <span class="op">-</span> x0</span>
<span id="cb721-13"><a href="testing.html#cb721-13"></a>    dy <span class="op">=</span> y1 <span class="op">-</span> y0</span>
<span id="cb721-14"><a href="testing.html#cb721-14"></a>    <span class="cf">if</span> dx <span class="op">&gt;</span> dy:</span>
<span id="cb721-15"><a href="testing.html#cb721-15"></a>        scaled <span class="op">=</span> <span class="bu">float</span>(dx) <span class="op">/</span> dy</span>
<span id="cb721-16"><a href="testing.html#cb721-16"></a>        upper_x, upper_y <span class="op">=</span> <span class="fl">1.0</span>, scaled</span>
<span id="cb721-17"><a href="testing.html#cb721-17"></a>    <span class="cf">else</span>:</span>
<span id="cb721-18"><a href="testing.html#cb721-18"></a>        scaled <span class="op">=</span> <span class="bu">float</span>(dx) <span class="op">/</span> dy</span>
<span id="cb721-19"><a href="testing.html#cb721-19"></a>        upper_x, upper_y <span class="op">=</span> scaled, <span class="fl">1.0</span></span>
<span id="cb721-20"><a href="testing.html#cb721-20"></a></span>
<span id="cb721-21"><a href="testing.html#cb721-21"></a>    <span class="co"># insert postconditions here</span></span>
<span id="cb721-22"><a href="testing.html#cb721-22"></a></span>
<span id="cb721-23"><a href="testing.html#cb721-23"></a>    <span class="cf">return</span> (<span class="dv">0</span>, <span class="dv">0</span>, upper_x, upper_y)</span></code></pre></div>
<p>In order to answer the following questions,
cut and paste the <code>normalize_rectangle</code> function into a new file called <code>geometry.py</code>
(outside of your <code>zipf</code> project) and
save that file in a new directory called <code>exercises</code>.</p>
<ol style="list-style-type: decimal">
<li>To ensure that the inputs to <code>normalize_rectangle</code> are valid,
add <a href="glossary.html#precondition">preconditions</a> to check that:</li>
</ol>
<ol style="list-style-type: lower-alpha">
<li><code>rect</code> contains 4 coordinates,</li>
<li>the width of the rectangle is a positive, non-zero value (i.e., <code>x0 &lt; x1</code>), and</li>
<li>the height of the rectangle is a positive, non-zero value (i.e., <code>y0 &lt; y1</code>).</li>
</ol>
<ol start="2" style="list-style-type: decimal">
<li>If the normalization calculation has worked correctly,
the new <code>x1</code> coordinate will lie between 0 and 1 (i.e., <code>0 &lt; upper_x &lt;= 1.0</code>).
Add a <a href="glossary.html#postcondition">postcondition</a> to check that this is true.
Do the same for the new <code>y1</code> coordinate, <code>upper_y</code>.</li>
</ol>
<p>Running <code>normalize_rectangle</code> for a short, wide rectangle should pass your new
preconditions and postconditions:</p>
<div class="sourceCode" id="cb722"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb722-1"><a href="testing.html#cb722-1"></a><span class="im">import</span> geometry</span>
<span id="cb722-2"><a href="testing.html#cb722-2"></a></span>
<span id="cb722-3"><a href="testing.html#cb722-3"></a></span>
<span id="cb722-4"><a href="testing.html#cb722-4"></a>geometry.normalize_rectangle([<span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">3</span>, <span class="dv">10</span>])</span></code></pre></div>
<pre class="text"><code>(0, 0, 0.2, 1.0)</code></pre>
<p>but will fail for a tall, skinny rectangle:</p>
<div class="sourceCode" id="cb724"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb724-1"><a href="testing.html#cb724-1"></a>geometry.normalize_rectangle([<span class="dv">20</span>, <span class="dv">15</span>, <span class="dv">30</span>, <span class="dv">20</span>])</span></code></pre></div>
<pre class="text"><code>AssertionError                  Traceback (most recent call last)
&lt;ipython-input-3-f4e8cdf7f69d&gt; in &lt;module&gt;
----&gt; 1 geometry.normalize_rectangle([20, 15, 30, 20])

~/Desktop/exercises/geometry.py in normalize_rectangle(rect)
     19
     20     assert 0 &lt; upper_x &lt;= 1.0, \
     21         &#39;Calculated upper X coordinate invalid&#39;
---&gt; 22     assert 0 &lt; upper_y &lt;= 1.0, \
     23         &#39;Calculated upper Y coordinate invalid&#39;
     24
     25     return (0, 0, upper_x, upper_y)

AssertionError: Calculated upper Y coordinate invalid</code></pre>
<ol start="3" style="list-style-type: decimal">
<li><p>Find and correct the source of the error in <code>normalize_rectangle</code>.
Once fixed, you should be able to successfully run
<code>geometry.normalize_rectangle([20, 15, 30, 20])</code>.</p></li>
<li><p>Write a unit test for tall, skinny rectangles and save it in a new file called
<code>test_geometry.py</code>. Run <code>pytest</code> to make sure the test passes.</p></li>
<li><p>Add a couple more unit tests to <code>test_geometry.py</code>.
Explain the rationale behind each test.</p></li>
</ol>
</div>
<div id="testing-ex-random" class="section level3">
<h3><span class="header-section-number">11.11.3</span> Testing with randomness</h3>
<p>Programs that rely on random numbers are impossible to test
because there’s (deliberately) no way to predict their output.
Luckily, computer programs don’t actually use random numbers:
they use a <a href="glossary.html#prng">pseudo-random number generator</a> (PRNG)
that produces values in a repeatable but unpredictable way.
Given the same initial <a href="glossary.html#seed">seed</a>,
a PRNG will always produce the same sequence of values.
How can we use this fact when testing programs that rely on pseudo-random numbers?</p>
</div>
<div id="testing-ex-relative-error" class="section level3">
<h3><span class="header-section-number">11.11.4</span> Testing with relative error</h3>
<p>If E is the expected result of a function and A is the actual value it produces,
the <a href="glossary.html#relative_error">relative error</a> is <code>abs((A-E)/E)</code>.
This means that if we expect the results of tests to be 2, 1, and 0,
and we actually get 2.1, 1.1, and 0.1
the relative errors are 5%, 10%, and infinity.
Why does this seem counter-intuitive,
and what might be a better way to measure error in this case?</p>
</div>
</div>
<div id="testing-keypoints" class="section level2">
<h2><span class="header-section-number">11.12</span> Key Points</h2>
<ul>
<li>Test software to convince people (including yourself) that software is correct enough
and to make tolerances on “enough” explicit.</li>
<li>Add <a href="glossary.html#assertion">assertions</a> to code so that it checks itself as it runs.</li>
<li>Write <a href="glossary.html#unit_test">unit tests</a> to check individual pieces of code.</li>
<li>Write <a href="glossary.html#integration_test">integration tests</a> to check that those pieces work together correctly.</li>
<li>Write <a href="glossary.html#regression_testing">regression tests</a> to check if things that used to work no longer do.</li>
<li>A <a href="glossary.html#test_framework">test framework</a> finds and runs tests written in a prescribed fashion and reports their results.</li>
<li>Test <a href="glossary.html#code_coverage">coverage</a> is the fraction of lines of code that are executed by a set of tests.</li>
<li><a href="glossary.html#continuous_integration">Continuous integration</a> re-builds and/or re-tests software every time something changes.</li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="config.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="errors.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": null,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/merely-useful/py-rse/edit/book/chapters/testing.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/merely-useful/py-rse/blob/book/chapters/testing.Rmd",
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
